   1:                    // Based on PET TETRIS by Tim Howe
   2:                    // https://www.youtube.com/watch?v=vJWDFWn8Kjc
   3:                    
   4:                    // There are 7 different tetrominoes:
   5:                    // Type I
   6:                    //               #             #
   7:                    //       ####    #     ####    #
   8:                    //               #             #
   9:                    //               #             #
  10:                    // Type O
  11:                    //        ##     ##     ##     ##
  12:                    //        ##     ##     ##     ##
  13:                    //
  14:                    //
  15:                    // Type T
  16:                    //       ###      #           #
  17:                    //        #      ##     #     ##
  18:                    //                #    ###    #
  19:                    //
  20:                    // Type S
  21:                    //       ##       #            #
  22:                    //        ##     ##    ##     ##
  23:                    //               #      ##    #
  24:                    //
  25:                    // Type Z
  26:                    //        ##     #            #
  27:                    //       ##      ##     ##    ##
  28:                    //                #    ##      #
  29:                    //
  30:                    // Type J
  31:                    //       ###      #           ##
  32:                    //         #      #    #      #
  33:                    //               ##    ###    #
  34:                    //
  35:                    // Type L
  36:                    //       ###     ##           #
  37:                    //       #        #      #    #
  38:                    //                #    ###    ##
  39:                    //
  40:                    
  41:                    // We play on a board with a legal area 10 cells wide and 20 tall.
  42:                    // The actual board we play on is (for implementation purposes) 16 cells wide and 26 tall
  43:                    // with the legal area occupying the central 10x20.
  44:                    // The thick walls of non-legal area make for easier checks of legal moves as we can just set
  45:                    // them as occupied and thus we just check for occupied cells and don't worry about explicitly
  46:                    // checking for boundaries.
  47:                    //
  48:                    // Top left of the whole board is (0,0).
  49:                    // Our start position is (8,3).
  50:                    //
  51:                    // The board is represented as 26 16 bit words.
  52:                    // Set bits represent occupied cells, clear bits represent free bits.
  53:                    // A 3 bit wide border is permenantly set to implement the walls/boundaries.
  54:                    //
  55:                    // We allow 13 possible offsets with 0 being the top left corner of a tetromino being offset 0 from the left.
  56:                    // (Technically they could be upto 16, but nothing would be legal in the last 3. One could argue none of
  57:                    // the first 3 would be either, but its easier to have them than not).
  58:                    //
  59:                    // We have 4 possible rotation values, 0..3, with each incrmenet being a 90 degree clockwise rotation.
  60:                    //
  61:                    // For each tetromino type we have we have sets definining their cell occupancies for each possible
  62:                    // offset and rotation.
  63:                    // This is done by 4 16 bit words with set bits representing cell occupancy. There are 4 words as a
  64:                    // tetromino may be upto 4 cells deep.
  65:                    // A legal move can therefore be determined by looking for any clashes between the cell pattern for
  66:                    // the tetromino (for offset & rotation) against the board from the y position of the tetromino.
  67:                    // These cell patterns are stored in tables with the name (?)_board_cell_sets, a table for each
  68:                    // teromiono type.
  69:                    //
  70:                    // For display each board cell maps to a 3x3 bit (pixel) block within the internal RAM.
  71:                    // In the x dimension the middle 10 playable cells (3..12) map to pixels 1..30.
  72:                    // So cell x maps to pixels 3*(x-3)+1..3*(x-3)+3.
  73:                    // In the Y direction the middle 10 playable cells (3..22) map to pixels 3..62
  74:                    // So cell y maps to pixels 3*(y-3)+3..3*(y-3)+5
  75:                    // These display patterns are stored in tables with the name (?)_display_pattern_sets, a table for each
  76:                    // teromiono type.
  77:                    //
  78:                    // We have 2 possible instances of a teromino.
  79:                    // CURRENT  : At the start of a "move" this holds the current state of the falling tet. We manipulate this with
  80:                    //            speculative moves to check for legaility before accepting a move.
  81:                    // PREVIOUS : This receives a copy of CURRENT at the start of a move so that of if we do accept a move we
  82:                    //            can remeber where we were in order to remove the display
  83:                    
  84:                    // *************************************
  85:                    // Start with shared definitions...
  86: 0000               include "Megaprocessor_defs.asm";
  87:                    // ===============================================================
  88:                    // 
  89:                    // Megaprocessor
  90:                    // =============
  91:                    // This file holds definitions useful for writing assembler
  92:                    // programs for the Megaprocessor.
  93:                    //
  94:                    // This version : 15th May 2016
  95:                    //
  96:                    // ================================================================
  97:                    //
  98:                    // Coding
  99:                    // =======
 100:                    // definition for interrupt enable bit
 101: 0001               PS_INT_ENABLE_BIT               equ     0x01;
 102:                    
 103:                    // ================================================================
 104:                    //
 105:                    // To handle the 256 bytes of RAM built from discrete components:
 106: A000               INT_RAM_START                   equ     0xA000;
 107: 0100               INT_RAM_LEN                     equ     0x0100;
 108:                    
 109: 0004               INT_RAM_BYTES_ACROSS            equ     4;
 110: 0006               INT_RAM_BYTES_HEIGHT_AS_SHIFT   equ     6;
 111: 0040               INT_RAM_BYTES_HEIGHT            equ     64;// 1 << INT_RAM_BYTES_HEIGHT_AS_SHIFT
 112:                    
 113:                    // ================================================================
 114:                    //
 115:                    // To handle the peripherals:
 116: 8000               PERIPHERALS_BASE                equ     0x8000;
 117: 8000               TIMER_BASE                      equ     PERIPHERALS_BASE + 0x00;
 118: 8010               UART_BASE                       equ     PERIPHERALS_BASE + 0x10;
 119: 8020               INTERRUPT_BASE                  equ     PERIPHERALS_BASE + 0x20;
 120: 8030               GEN_IO_BASE                     equ     PERIPHERALS_BASE + 0x30;
 121:                    
 122:                    // register locations for the GPIO...
 123: 8030               GEN_IO_OUTPUT                   equ     GEN_IO_BASE + 0;
 124: 8032               GEN_IO_INPUT                    equ     GEN_IO_BASE + 2;
 125: 8034               GEN_IO_CTR                      equ     GEN_IO_BASE + 4;
 126:                    
 127:                    // register locations for the Timer...
 128: 8000               TIME_BLK_COUNTER                equ     TIMER_BASE + 0x00;
 129: 8002               TIME_BLK_TIMER                  equ     TIMER_BASE + 0x02;
 130: 8004               TIME_BLK_TIMER_CTRL             equ     TIMER_BASE + 0x04;
 131:                    // bit definitions for timer control register
 132: 0001               TIME_BLK_TIMER_CTRL_EN_TIMER    equ     0x01;
 133: 0002               TIME_BLK_TIMER_CTRL_CLR_COUNT   equ     0x02;
 134: 0004               TIME_BLK_TIMER_CTRL_CLR_TIMER   equ     0x04;
 135:                    
 136:                    // masks for selecting switch value on Venom Arcade Stick
 137:                    // (Switches are HIGH by "default", and go LOW on being pressed).
 138: 0001               IO_SWITCH_FLAG_UP               EQU     0x0001;
 139: 0002               IO_SWITCH_FLAG_DOWN             EQU     0x0002;
 140: 0004               IO_SWITCH_FLAG_LEFT             EQU     0x0004;
 141: 0008               IO_SWITCH_FLAG_RIGHT            EQU     0x0008;
 142: 0010               IO_SWITCH_FLAG_SQUARE           EQU     0x0010;
 143: 0020               IO_SWITCH_FLAG_TRIANGLE         EQU     0x0020;
 144: 0040               IO_SWITCH_FLAG_CIRCLE           EQU     0x0040;
 145: 0080               IO_SWITCH_FLAG_CROSS            EQU     0x0080;
 146: 0100               IO_SWITCH_FLAG_L1               EQU     0x0100;
 147: 0200               IO_SWITCH_FLAG_L2               EQU     0x0200;
 148: 0400               IO_SWITCH_FLAG_R1               EQU     0x0400;
 149: 0800               IO_SWITCH_FLAG_R2               EQU     0x0800;
 150:                    
 151:                    // register locations for the Interrupt controller...
 152: 8020               INTERRUPT_SOURCE                EQU     INTERRUPT_BASE + 0x00;
 153: 8021               INTERRUPT_MASK                  EQU     INTERRUPT_BASE + 0x01;
 154:                    
 155:                    // interrupt souurce enable/value bit masks
 156: 0001               INTERRUPT_BIT_USER              EQU     0x01;
 157: 0002               INTERRUPT_BIT_UART_SPACE        EQU     0x02;
 158: 0004               INTERRUPT_BIT_UART_RX_DATA      EQU     0x04;
 159: 0008               INTERRUPT_BIT_TIMER             EQU     0x08;
 160: 0010               INTERRUPT_BIT_COUNTER           EQU     0x10;
 161: 0020               INTERRUPT_BIT_INPUT_CHANGE      EQU     0x20;
 162:                    
 163:                    
 164:                    
 165:                    // *************************************
 166:                    // tables and variables....
 167: 0010               org 0x10;
 168:                    
 169:                    board_cell_sets:
 170: 0010 1B 04           dw      I_board_cell_sets;
 171: 0012 BB 05           dw      O_board_cell_sets;
 172: 0014 5B 07           dw      T_board_cell_sets;
 173: 0016 FB 08           dw      S_board_cell_sets;
 174: 0018 9B 0A           dw      Z_board_cell_sets;
 175: 001A 3B 0C           dw      J_board_cell_sets;
 176: 001C DB 0D           dw      L_board_cell_sets;
 177:                    
 178:                    display_pattern_sets:
 179: 001E BC 0F           dw      I_display_pattern_sets;
 180: 0020 5C 11           dw      O_display_pattern_sets;
 181: 0022 FC 12           dw      T_display_pattern_sets;
 182: 0024 9C 14           dw      S_display_pattern_sets;
 183: 0026 3C 16           dw      Z_display_pattern_sets;
 184: 0028 DC 17           dw      J_display_pattern_sets;
 185: 002A 7C 19           dw      L_display_pattern_sets;
 186:                    
 187:                    // We need a structure to hold data for a tetromino
 188:                    
 189: 0008               INITIAL_X                       equ     8;
 190: 0003               INITIAL_Y                       equ     3;
 191: 0034               FULL_BOARD_SIZE                 equ     26*2;
 192: FFFF               FULL_ROW_MASK                   equ     0xFFFF;
 193: 0014               N_FULL_ROW_CHECK                equ     20;
 194: 0060               START_FULL_ROW_CHECK            equ     the_board + INITIAL_Y*2;
 195: E007               BOARD_WALLS                     equ     0xE007;
 196: 0060               FIRST_BOARD_POSN                equ     START_FULL_ROW_CHECK;
 197: 9FE8               FIRST_DISPLAY_POSN              equ     INT_RAM_START + (3 - 3*INITIAL_Y)*INT_RAM_BYTES_ACROSS;
 198: A00C               FIRST_DISPLAY_ADDRESS           equ     INT_RAM_START + (3)*INT_RAM_BYTES_ACROSS;
 199:                    
 200:                    // put tetromino data structure on simple addresses so we can look at it easily in the simulator
 201: 0040               org     0x40;
 202: 0040 00              current_type:                   db;
 203: 0041 00 00           current_display_pattern_set:    dw;
 204: 0043 00 00           current_cell_pattern_set:       dw;
 205: 0045 00              current_rotn:                   db;
 206: 0046 00 00           current_display_pattern:        dw;
 207: 0048 00 00           current_display_posn_biased:    dw;
 208: 004A 00 00           current_display_posn_raw:       dw;
 209: 004C 00              current_X:                      db;
 210: 004D 00              current_Y:                      db;
 211: 004E 00 00           current_cell_pattern:           dw;
 212: 0050 00 00           current_board_posn:             dw;
 213:                    
 214:                    // need to record a few elements of a tet so can delete its previous display
 215: 0052 00              prev_rotn:                      db;    //    <<<--<<<<< these fields must be same order/size as current
 216: 0053 00 00           prev_display_pattern:           dw;    //    <<<--<<<<<
 217: 0055 00 00           prev_display_posn_biased:       dw;    //    <<<--<<<<<
 218: 0057 00 00           prev_display_posn_raw:          dw;    //    <<<--<<<<<
 219: 0059 00              prev_x:                         db;    //    <<<--<<<<<
 220: 0008               tet_move_data_len               equ 8;
 221:                    
 222: 005A 00 00 00 00     the_board:                      ds       FULL_BOARD_SIZE;
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
          00 00 00 00 
 223:                    
 224:                    
 225: 008E 00              game_over:                      db;
 226: 008F 00 00           last_down_time:                 dw;
 227: 0091 00 00           last_key_time:                  dw;
 228: 0093 00 00           prev_key:                       dw;
 229:                    
 230:                    
 231:                    
 232: 0064               MOVE_INTERVAL                   equ     100; // ??
 233: 0064               KEY_REPEAT_TIME                 equ     100; // ??
 234:                    
 235: 0400               FLAG_START                      equ     IO_SWITCH_FLAG_R1;
 236:                    
 237:                    // **************************************
 238: 0095               end_of_variables    equ $;
 239:                    
 240:                    // **************************************
 241:                    // vectors
 242: 0000               org  0;
 243: 0000 F3 95 00        reset:      jmp    start;
 244: 0003 FF              nop;
 245: 0004 C7              ext_int:    reti;
 246: 0005 FF              nop;
 247: 0006 FF              nop;
 248: 0007 FF              nop;
 249: 0008 C7              div_zero:   reti;
 250: 0009 FF              nop;
 251: 000A FF              nop;
 252: 000B FF              nop;
 253: 000C C7              illegal:    reti;
 254: 000D FF              nop;
 255: 000E FF              nop;
 256: 000F FF              nop;
 257:                    
 258:                    // ********************************************
 259:                    // The program....
 260: 0095               org     end_of_variables;
 261:                    start:
 262:                    // give ourselves a stack...
 263: 0095 D0 FF 7F        ld.w    r0,#0x7FFF;
 264: 0098 F1              move    sp,r0;
 265:                    
 266: 0099 CF F5 00        jsr     init_board;
 267:                    
 268:                    main_loop:
 269: 009C CF BC 00        jsr     play_game;
 270:                    
 271: 009F D2 DB 03        ld.w    r2,#text_game;
 272: 00A2 D3 28 A0        ld.w    r3,#INT_RAM_START + 10*INT_RAM_BYTES_ACROSS;
 273: 00A5 D4 10           ld.b    r0,#16;
 274:                    ml_1:
 275: 00A7 91              ld.w    r1,(r2++);
 276: 00A8 9B              st.w    (r3++),r1;
 277: 00A9 5C              dec     r0;
 278: 00AA E6 FB           bne     ml_1;
 279: 00AC D2 FB 03        ld.w    r2,#text_over;
 280: 00AF D3 50 A0        ld.w    r3,#INT_RAM_START + 20*INT_RAM_BYTES_ACROSS;
 281: 00B2 D4 10           ld.b    r0,#16;
 282:                    ml_2:
 283: 00B4 91              ld.w    r1,(r2++);
 284: 00B5 9B              st.w    (r3++),r1;
 285: 00B6 5C              dec     r0;
 286: 00B7 E6 FB           bne     ml_2;
 287:                    
 288: 00B9 F3 9C 00        jmp     main_loop;
 289:                    
 290:                    // *******************************************************
 291:                    // The game loop consists simply of checking for a key press and then
 292:                    // moving a teromino down if the drop time has elapsed
 293:                    play_game:
 294: 00BC CF E1 00        jsr     start_game;
 295:                    
 296:                    game_loop:
 297:                    // Key checking
 298: 00BF CF 9A 01        jsr     check_key;
 299:                    // possible for game to end if do a drop and then next tet causes game end
 300: 00C2 B4 8E 00        ld.b    r0,game_over;
 301: 00C5 E7 01           beq     gl_1;
 302: 00C7 C6              ret;
 303:                    
 304:                    gl_1:
 305:                    // drop the Tetromino if enough time has passed since the last drop
 306: 00C8 B1 8F 00        ld.w    r1,last_down_time;
 307: 00CB D0 64 00        ld.w    r0,#MOVE_INTERVAL;
 308: 00CE 41              add     r1,r0;
 309: 00CF B0 00 80        ld.w    r0,TIME_BLK_COUNTER;
 310: 00D2 74              cmp     r0,r1;
 311: 00D3 EB EA           bmi     game_loop;
 312:                    
 313: 00D5 B8 8F 00        st.w    last_down_time,r0;
 314: 00D8 CF 7B 01        jsr     move_tet_down;
 315:                    
 316: 00DB B4 8E 00        ld.b    r0,game_over;
 317: 00DE E7 DF           beq     game_loop;
 318:                    
 319: 00E0 C6              ret;
 320:                    
 321:                    // *******************************************************
 322:                    start_game:
 323:                    
 324: 00E1 CF 28 01        jsr     wait_for_start;
 325:                    
 326: 00E4 CF F5 00        jsr     init_board;
 327:                    
 328:                    // init state variables....
 329: 00E7 20              clr     r0;
 330: 00E8 BC 8E 00        st.b    game_over,r0;
 331: 00EB B8 93 00        st.w    prev_key,r0;
 332: 00EE B0 00 80        ld.w    r0,TIME_BLK_COUNTER;
 333: 00F1 B8 8F 00        st.w    last_down_time,r0;
 334:                    
 335: 00F4 C6              ret;
 336:                    
 337:                    // *******************************************************
 338:                    // For the disolay we want to clear it, and then have a one opixel
 339:                    // wide border on the sides and bottom.
 340:                    // For the board we want it empty , but with the walls and bottom set.
 341:                    // clear memory and set up the board
 342:                    
 343:                    init_board:
 344:                    // clear board... clear middle, 3 bit wide set border
 345: 00F5 D2 5A 00        ld.w    r2,#the_board;
 346: 00F8 D0 07 E0        ld.w    r0,#BOARD_WALLS;
 347: 00FB D5 17           ld.b    r1,#23;
 348:                    init_1:
 349: 00FD 98              st.w    (r2++),r0;
 350: 00FE 5D              dec     r1;
 351: 00FF E6 FC           bne     init_1;
 352: 0101 D0 FF FF        ld.w    r0,#0xFFFF;
 353: 0104 98              st.w    (r2++),r0;
 354: 0105 98              st.w    (r2++),r0;
 355: 0106 98              st.w    (r2++),r0;
 356:                    
 357:                    // draw the display
 358:                    // ==============
 359: 0107 20              clr     r0;
 360: 0108 D2 00 A0        ld.w    r2,#INT_RAM_START;
 361: 010B 98              st.w    (r2++),r0;
 362: 010C 98              st.w    (r2++),r0;
 363: 010D 98              st.w    (r2++),r0;
 364: 010E 98              st.w    (r2++),r0;
 365: 010F 98              st.w    (r2++),r0;
 366: 0110 98              st.w    (r2++),r0;
 367: 0111 D1 3C 00        ld.w    r1,#60;
 368:                    clr_loop:
 369: 0114 D0 01 00        ld.w    r0,#0x0001;
 370: 0117 98              st.w    (r2++),r0;
 371: 0118 D0 00 80        ld.w    r0,#0x8000;
 372: 011B 98              st.w    (r2++),r0;
 373: 011C 5D              dec     r1;
 374: 011D E6 F5           bne     clr_loop;
 375:                    
 376: 011F D0 FF FF        ld.w    r0,#0xFFFF;
 377: 0122 98              st.w    (r2++),r0;
 378: 0123 98              st.w    (r2++),r0;
 379:                    
 380: 0124 CF 38 01        jsr     create_next_tet;
 381:                    
 382: 0127 C6              ret;
 383:                    
 384:                    // *******************************************************
 385:                    // looking for an up, so must first wait for it being down
 386:                    wait_for_start:
 387: 0128 D1 00 04        ld.w    r1, #FLAG_START;
 388:                    wfs_1:
 389: 012B B0 32 80        ld.w    r0, GEN_IO_INPUT;
 390: 012E 14              and     r0,r1;
 391: 012F E6 FA           bne     wfs_1;
 392:                    
 393:                    // it's down, now wait for an up
 394:                    wfs_2:
 395: 0131 B0 32 80        ld.w    r0, GEN_IO_INPUT;
 396: 0134 14              and     r0,r1;
 397: 0135 E7 FA           beq     wfs_2;
 398:                    
 399: 0137 C6              ret;
 400:                    
 401:                    // *******************************************************
 402:                    // cretate a random tetromino in CURRENT.
 403:                    create_next_tet:
 404:                    // get some random numbers based on time...
 405:                    // After div remainder is in R3 quotient is in R2
 406: 0138 B0 00 80        ld.w    r0,TIME_BLK_COUNTER;
 407: 013B D1 07 00        ld.w    r1,#7;
 408: 013E FA              divu;
 409: 013F D4 03           ld.b    r0,#3;
 410: 0141 12              and     r2,r0;
 411: 0142 BE 45 00        st.b    current_rotn,r2;
 412: 0145 BF 40 00        st.b    current_type,r3;
 413:                    
 414:                    // must now set up the base data pointers we need on the basis of the tet type
 415: 0148 4F              add     r3,r3; // make word offset
 416: 0149 D2 10 00        ld.w    r2,#board_cell_sets;
 417: 014C 4E              add     r2,r3;
 418: 014D 80              ld.w    r0,(r2);
 419: 014E B8 43 00        st.w    current_cell_pattern_set,r0;
 420: 0151 D2 1E 00        ld.w    r2,#display_pattern_sets;
 421: 0154 4E              add     r2,r3;
 422: 0155 80              ld.w    r0,(r2);
 423: 0156 B8 41 00        st.w    current_display_pattern_set,r0;
 424:                    
 425:                    // set the initial X,Y
 426: 0159 D4 08           ld.b    r0,#INITIAL_X;
 427: 015B BC 4C 00        st.b    current_X,r0;
 428: 015E D4 03           ld.b    r0,#INITIAL_Y;
 429: 0160 BC 4D 00        st.b    current_Y,r0;
 430:                    
 431:                    // finish off pointer calc
 432: 0163 CF 29 03        jsr     calc_pointers;
 433:                    
 434:                    // and draw it
 435: 0166 D3 45 00        ld.w    r3,#current_rotn;
 436: 0169 CF 85 03        jsr     draw_tetromino;
 437:                    
 438:                    // at start of move previous should match current
 439: 016C D2 45 00        ld.w    r2,#current_rotn;
 440: 016F D3 52 00        ld.w    r3,#prev_rotn;
 441: 0172 90              ld.w    r0,(r2++);
 442: 0173 9A              st.w    (r3++),R0;
 443: 0174 90              ld.w    r0,(r2++);
 444: 0175 9A              st.w    (r3++),R0;
 445: 0176 90              ld.w    r0,(r2++);
 446: 0177 9A              st.w    (r3++),R0;
 447: 0178 90              ld.w    r0,(r2++);
 448: 0179 9A              st.w    (r3++),R0;
 449:                    
 450: 017A C6              ret;
 451:                    
 452:                    // *******************************************************
 453:                    // Move the falling tetromino down one line.
 454:                    // If a collision would result then undo the move and handle a landing.
 455:                    //R0 return 1 if landed, 0 otherwise
 456:                    //****************************************************************************
 457:                    move_tet_down:
 458:                    
 459:                    // start by assuming we can move it down....
 460: 017B B4 4D 00        ld.b    r0,current_Y;
 461: 017E 54              inc     r0;
 462: 017F BC 4D 00        st.b    current_Y,r0;
 463:                    
 464: 0182 CF 08 03        jsr     test_collision;
 465: 0185 10              test    r0;
 466: 0186 E6 04           bne     we_have_landed;
 467: 0188 CF 6A 03        jsr     move_tetromino;
 468: 018B C6              ret;
 469:                    
 470:                    we_have_landed:
 471:                    // undo the failed drop
 472: 018C B4 4D 00        ld.b    r0,current_Y;
 473: 018F 5C              dec     r0;
 474: 0190 BC 4D 00        st.b    current_Y,r0;
 475: 0193 CF 29 03        jsr     calc_pointers;
 476:                    
 477:                    // move Tet. onto board and remove rows
 478: 0196 CF 84 02        jsr     tet_landed;
 479:                    
 480: 0199 C6              ret;
 481:                    
 482:                    
 483:                    // *******************************************************
 484:                    check_key:
 485: 019A CF CA 01        jsr     extract_key;
 486: 019D 10              test    r0;
 487: 019E E6 04           bne     key_was_pressed;
 488: 01A0 B8 93 00        st.w    prev_key,r0;
 489: 01A3 C6              ret;
 490:                    
 491:                    key_was_pressed:
 492: 01A4 B1 93 00        ld.w    r1,prev_key;
 493: 01A7 74              cmp     r0,r1;
 494: 01A8 E6 0E           bne     do_key_press;   // a different key
 495:                    
 496:                    // same key...is it time for auto repeat
 497: 01AA B1 00 80        ld.w    r1,TIME_BLK_COUNTER;
 498: 01AD B2 91 00        ld.w    r2,last_key_time;
 499: 01B0 69              sub     r1,r2;
 500: 01B1 D2 64 00        ld.w    r2,#KEY_REPEAT_TIME;
 501: 01B4 79              cmp     r1,r2;
 502: 01B5 EA 01           bpl     do_key_press;
 503: 01B7 C6              ret;
 504:                    
 505:                    do_key_press:
 506: 01B8 B8 93 00        st.w    prev_key,r0;
 507: 01BB B1 00 80        ld.w    r1,TIME_BLK_COUNTER;
 508: 01BE B9 91 00        st.w    last_key_time,r1;
 509: 01C1 CE              jsr     (r0);
 510: 01C2 10              test    r0;
 511: 01C3 E6 01           bne     key_needs_display_update;
 512: 01C5 C6              ret;
 513:                    
 514:                    key_needs_display_update:
 515: 01C6 CF 6A 03        jsr     move_tetromino;
 516: 01C9 C6              ret;
 517:                    
 518:                    // *******************************************************
 519:                    //  output key handler in R0
 520:                    extract_key:
 521: 01CA B0 32 80        ld.w    r0,GEN_IO_INPUT;
 522: 01CD D2 FE 01        ld.w    r2,#handle_left;
 523: 01D0 D1 04 00        ld.w    r1, #IO_SWITCH_FLAG_LEFT;
 524: 01D3 11              and     r1,r0;
 525: 01D4 E7 26           beq     there_is_a_key;
 526:                    
 527: 01D6 D2 14 02        ld.w    r2,#handle_right;
 528: 01D9 D1 08 00        ld.w    r1, #IO_SWITCH_FLAG_RIGHT;
 529: 01DC 11              and     r1,r0;
 530: 01DD E7 1D           beq     there_is_a_key;
 531:                    
 532: 01DF D2 2A 02        ld.w    r2,#handle_rot_left;
 533: 01E2 D1 10 00        ld.w    r1, #IO_SWITCH_FLAG_SQUARE;
 534: 01E5 11              and     r1,r0;
 535: 01E6 E7 14           beq     there_is_a_key;
 536:                    
 537: 01E8 D2 46 02        ld.w    r2,#handle_rot_right;
 538: 01EB D1 20 00        ld.w    r1, #IO_SWITCH_FLAG_TRIANGLE;
 539: 01EE 11              and     r1,r0;
 540: 01EF E7 0B           beq     there_is_a_key;
 541:                    
 542: 01F1 D2 62 02        ld.w    r2,#handle_drop;
 543: 01F4 D1 00 01        ld.w    r1, #IO_SWITCH_FLAG_L1;
 544: 01F7 11              and     r1,r0;
 545: 01F8 E7 02           beq     there_is_a_key;
 546:                    
 547: 01FA 20              clr     r0;
 548: 01FB C6              ret;
 549:                    there_is_a_key:
 550: 01FC 08              move    r0,r2;
 551: 01FD C6              ret;
 552:                    
 553:                    // *******************************************************
 554:                    // handles return non-0 in R0 if need display update
 555:                    handle_left:
 556: 01FE B4 4C 00        ld.b    r0,current_X;
 557: 0201 5C              dec     r0;
 558: 0202 BC 4C 00        st.b    current_X,r0;
 559: 0205 CF 08 03        jsr     test_collision;
 560: 0208 10              test    r0;
 561: 0209 E7 76           beq     handle_key_ok;
 562:                    // hit something, undo
 563: 020B B4 4C 00        ld.b    r0,current_X;
 564: 020E 54              inc     r0;
 565: 020F BC 4C 00        st.b    current_X,r0;
 566: 0212 20              clr     r0;
 567: 0213 C6              ret;
 568:                    
 569:                    handle_right:
 570: 0214 B4 4C 00        ld.b    r0,current_X;
 571: 0217 54              inc     r0;
 572: 0218 BC 4C 00        st.b    current_X,r0;
 573: 021B CF 08 03        jsr     test_collision;
 574: 021E 10              test    r0;
 575: 021F E7 60           beq     handle_key_ok;
 576:                    // hit something, undo
 577: 0221 B4 4C 00        ld.b    r0,current_X;
 578: 0224 5C              dec     r0;
 579: 0225 BC 4C 00        st.b    current_X,r0;
 580: 0228 20              clr     r0;
 581: 0229 C6              ret;
 582:                    
 583:                    handle_rot_left:
 584: 022A B4 45 00        ld.b    r0,current_rotn;
 585: 022D 5C              dec     r0;
 586: 022E D5 03           ld.b    r1,#3;
 587: 0230 14              and     r0,r1;
 588: 0231 BC 45 00        st.b    current_rotn,r0;
 589: 0234 CF 08 03        jsr     test_collision;
 590: 0237 10              test    r0;
 591: 0238 E7 47           beq     handle_key_ok;
 592:                    // hit something, undo
 593: 023A B4 45 00        ld.b    r0,current_rotn;
 594: 023D 54              inc     r0;
 595: 023E D5 03           ld.b    r1,#3;
 596: 0240 14              and     r0,r1;
 597: 0241 BC 45 00        st.b    current_rotn,r0;
 598: 0244 20              clr     r0;
 599: 0245 C6              ret;
 600:                    
 601:                    handle_rot_right:
 602: 0246 B4 45 00        ld.b    r0,current_rotn;
 603: 0249 54              inc     r0;
 604: 024A D5 03           ld.b    r1,#3;
 605: 024C 14              and     r0,r1;
 606: 024D BC 45 00        st.b    current_rotn,r0;
 607: 0250 CF 08 03        jsr     test_collision;
 608: 0253 10              test    r0;
 609: 0254 E7 2B           beq     handle_key_ok;
 610:                    // hit something, undo
 611: 0256 B4 45 00        ld.b    r0,current_rotn;
 612: 0259 5C              dec     r0;
 613: 025A D5 03           ld.b    r1,#3;
 614: 025C 14              and     r0,r1;
 615: 025D BC 45 00        st.b    current_rotn,r0;
 616: 0260 20              clr     r0;
 617: 0261 C6              ret;
 618:                    
 619:                    // drop, drop till we hit something
 620:                    handle_drop:
 621: 0262 B4 4D 00        ld.b    r0,current_Y;
 622: 0265 54              inc     r0;
 623: 0266 BC 4D 00        st.b    current_Y,r0;
 624: 0269 CF 08 03        jsr     test_collision;
 625: 026C 10              test    r0;
 626: 026D E7 F3           beq     handle_drop;
 627:                    
 628:                    handle_drop_landed:
 629:                    // finally hit something, so rewind one
 630: 026F B4 4D 00        ld.b    r0,current_Y;
 631: 0272 5C              dec     r0;
 632: 0273 BC 4D 00        st.b    current_Y,r0;
 633: 0276 CF 29 03        jsr     calc_pointers; // need the parameters updated...
 634: 0279 CF 6A 03        jsr     move_tetromino;    // draw the move...
 635:                    
 636: 027C CF 84 02        jsr     tet_landed;       //
 637: 027F 20              clr     r0; // do not need to update display again
 638: 0280 C6              ret;
 639:                    
 640:                    handle_key_ok:
 641: 0281 D4 01           ld.b    r0,#1;
 642: 0283 C6              ret;
 643:                    
 644:                    
 645:                    
 646:                    
 647:                    
 648:                    
 649:                    // move Tet. onto board and remove rows
 650:                    tet_landed:
 651:                    
 652: 0284 B2 4E 00        ld.w    r2,current_cell_pattern;
 653: 0287 B3 50 00        ld.w    r3,current_board_posn;
 654:                    
 655:                    // The tetromino may span 4 lines
 656: 028A 90              ld.w    r0,(r2++);
 657: 028B 83              ld.w    r1,(r3);
 658: 028C 34              or      r0,r1;
 659: 028D 9A              st.w    (r3++),r0;
 660:                    
 661: 028E 90              ld.w    r0,(r2++);
 662: 028F 83              ld.w    r1,(r3);
 663: 0290 34              or      r0,r1;
 664: 0291 9A              st.w    (r3++),r0;
 665:                    
 666: 0292 90              ld.w    r0,(r2++);
 667: 0293 83              ld.w    r1,(r3);
 668: 0294 34              or      r0,r1;
 669: 0295 9A              st.w    (r3++),r0;
 670:                    
 671: 0296 90              ld.w    r0,(r2++);
 672: 0297 83              ld.w    r1,(r3);
 673: 0298 34              or      r0,r1;
 674: 0299 9A              st.w    (r3++),r0;
 675:                    
 676:                    // Now need to remove full rows.....
 677:                    // keep checking till none left
 678:                    full_row_check:
 679: 029A D1 FF FF        ld.w    r1,#FULL_ROW_MASK;
 680: 029D D7 14           ld.b    r3,#N_FULL_ROW_CHECK;
 681: 029F D2 60 00        ld.w    r2,#START_FULL_ROW_CHECK;
 682:                    full_row_1:
 683: 02A2 90              ld.w    r0,(r2++);
 684: 02A3 24              xor     r0,r1;
 685: 02A4 E7 17           beq     have_full_row;
 686:                    
 687: 02A6 5F              dec     r3;
 688: 02A7 E6 F9           bne     full_row_1;
 689:                    
 690:                    //  now get the next Tet and then look to see if game is over
 691: 02A9 CF 38 01        jsr     create_next_tet;
 692:                    
 693: 02AC CF 08 03        jsr     test_collision; // if Tet hits immediately then game is over
 694: 02AF E7 05           beq     tet_landed_end;
 695: 02B1 D4 01           ld.b    r0,#1;
 696: 02B3 BC 8E 00        st.b    game_over,r0;
 697:                    
 698:                    tet_landed_end:
 699:                    // reset drop timer
 700: 02B6 B0 00 80        ld.w    r0,TIME_BLK_COUNTER;
 701: 02B9 B8 8F 00        st.w    last_down_time,r0;
 702: 02BC C6              ret;
 703:                    
 704:                    
 705:                    // full row... remove it
 706:                    // =====================
 707:                    have_full_row:
 708: 02BD D4 14           ld.b    r0,#N_FULL_ROW_CHECK; // if the count is now n we must use N - n
 709: 02BF 6C              sub     r0,r3;
 710: 02C0 C8              push    r0;     // save count to use later
 711:                    // first work on the board
 712: 02C1 E7 24           beq     remove_full_row_4;
 713: 02C3 5A              addq    r2,#-2;    // must undo the post inc on reading the line
 714: 02C4 0B              move    r3,r2;
 715: 02C5 5A              addq    r2,#-2; // r2 will be our src
 716:                    remove_full_row_1:
 717: 02C6 81              ld.w    r1,(r2);
 718: 02C7 8B              st.w    (r3),r1;
 719: 02C8 5A              addq    r2,#-2;
 720: 02C9 5B              addq    r3,#-2;
 721: 02CA 5C              dec     r0;
 722: 02CB E6 F9           bne     remove_full_row_1;
 723:                    
 724:                    // now we must clear from the display
 725: 02CD C0              pop     r0;     // lines done, mult by 12 to get offset from display start
 726: 02CE 01              move    r1,r0;
 727: 02CF 06              move    r2,r1;
 728: 02D0 45              add     r1,r1;
 729: 02D1 49              add     r1,r2;   // n_done *3
 730: 02D2 45              add     r1,r1;
 731: 02D3 45              add     r1,r1;  // n_done *12
 732: 02D4 D2 16 A0        ld.w    r2,#FIRST_DISPLAY_ADDRESS + 10; //  10 as need end of data for pixel row
 733: 02D7 46              add     r2,r1;  // r2 is dst of pixels (the full line we're clearing)
 734: 02D8 0B              move    r3,r2;
 735: 02D9 D5 0C           ld.b    r1,#12;
 736: 02DB 67              sub     r3,r1;  // r3 is src of pixels
 737:                    
 738:                    // must multiply the loop count by 6 as 3 display lines
 739:                    // of 4 bytes per board row, but we do 2 at a time
 740: 02DC 01              move    r1,r0;
 741: 02DD 40              add     r0,r0;
 742: 02DE 44              add     r0,r1;
 743: 02DF 40              add     r0,r0;
 744:                    remove_full_row_3:
 745: 02E0 83              ld.w    r1,(r3);
 746: 02E1 89              st.w    (r2),r1;
 747: 02E2 5A              addq    r2,#-2;
 748: 02E3 5B              addq    r3,#-2;
 749: 02E4 5C              dec     r0;
 750: 02E5 E6 F9           bne     remove_full_row_3;
 751:                    
 752:                    
 753:                    remove_full_row_4:
 754:                    // and clear top line of board
 755: 02E7 D1 07 E0        ld.w    r1,#BOARD_WALLS;
 756: 02EA B9 60 00        st.w    start_full_row_check,r1;
 757:                    // clear top pixel row
 758: 02ED D0 01 00        ld.w    r0,#0x0001;
 759: 02F0 B8 0C A0        st.w    FIRST_DISPLAY_ADDRESS +  0,r0;
 760: 02F3 B8 10 A0        st.w    FIRST_DISPLAY_ADDRESS +  4,r0;
 761: 02F6 B8 14 A0        st.w    FIRST_DISPLAY_ADDRESS +  8,r0;
 762: 02F9 D0 00 80        ld.w    r0,#0x8000;
 763: 02FC B8 0E A0        st.w    FIRST_DISPLAY_ADDRESS +  2,r0;
 764: 02FF B8 12 A0        st.w    FIRST_DISPLAY_ADDRESS +  6,r0;
 765: 0302 B8 16 A0        st.w    FIRST_DISPLAY_ADDRESS + 10,r0;
 766:                    // and then go round again...
 767: 0305 F3 9A 02        jmp     full_row_check;
 768:                    
 769:                    // =================================================================
 770:                    // look to see current trial position of tet will colide with something
 771:                    // (board has occupied cells for previous tets AND walls and floor)
 772:                    // Return non-zero in R0 for a collision
 773:                    test_collision:
 774:                    // first calc pointers for trial position
 775: 0308 CF 29 03        jsr     calc_pointers;
 776:                    
 777:                    // look to see if cell pattern for current position overlaps with current board.
 778: 030B B2 4E 00        ld.w    r2,current_cell_pattern;
 779: 030E B3 50 00        ld.w    r3,current_board_posn;
 780:                    
 781: 0311 90              ld.w    r0,(r2++);
 782: 0312 93              ld.w    r1,(r3++);
 783: 0313 14              and     r0,r1;
 784: 0314 E6 10           bne     is_coll;
 785: 0316 90              ld.w    r0,(r2++);
 786: 0317 93              ld.w    r1,(r3++);
 787: 0318 14              and     r0,r1;
 788: 0319 E6 0B           bne     is_coll;
 789: 031B 90              ld.w    r0,(r2++);
 790: 031C 93              ld.w    r1,(r3++);
 791: 031D 14              and     r0,r1;
 792: 031E E6 06           bne     is_coll;
 793: 0320 90              ld.w    r0,(r2++);
 794: 0321 93              ld.w    r1,(r3++);
 795: 0322 14              and     r0,r1;
 796: 0323 E6 01           bne     is_coll;
 797:                    
 798:                    //R0 is clear for no collision
 799: 0325 C6              ret;
 800:                    
 801:                    is_coll:
 802: 0326 D4 01           ld.b    r0,#1;
 803: 0328 C6              ret;
 804:                    
 805:                    // =================================================================
 806:                    // calculate (and store) pointers to things of interest for the
 807:                    // position of tetromino
 808:                    //
 809:                    // We can share some of the calculations for indxing into the
 810:                    // cell pattern and board display tables
 811:                    // For both the entry we need is table[x*n_rot + rot].
 812:                    // for cell patterns each entry is 4 words = 8 bytes long
 813:                    // for display patterns they are also 4 words = 8 bytes
 814:                    calc_pointers:
 815: 0329 B7 4C 00        ld.b    r3,current_X;
 816: 032C 4F              add     r3,r3;
 817: 032D 4F              add     r3,r3; // r3 = 4*x
 818: 032E B5 45 00        ld.b    r1,current_rotn;
 819: 0331 47              add     r3,r1;  // r3 = 4*x + rot
 820:                    
 821: 0332 4F              add     r3,r3;
 822: 0333 4F              add     r3,r3;
 823: 0334 4F              add     r3,r3;    // r3 now has 8*index
 824: 0335 B2 43 00        ld.w    r2,current_cell_pattern_set;
 825: 0338 4E              add     r2,r3;
 826: 0339 BA 4E 00        st.w    current_cell_pattern,r2;
 827:                    
 828: 033C B2 41 00        ld.w    r2,current_display_pattern_set;
 829: 033F 4E              add     r2,r3;
 830: 0340 BA 46 00        st.w    current_display_pattern,r2;
 831:                    
 832: 0343 B5 4D 00        ld.b    r1,current_Y;
 833: 0346 45              add     r1,r1;      // board is 2 bytes wide
 834: 0347 D3 5A 00        ld.w    r3,#the_board;
 835: 034A 4D              add     r1,r3;
 836: 034B B9 50 00        st.w    current_board_posn,r1;
 837:                    
 838:                    // cells are 3 pixels tall which corresponds to 12 bytes (4 bytes a line)
 839: 034E B5 4D 00        ld.b    r1,current_Y;
 840: 0351 07              move    r3,r1;
 841: 0352 45              add     r1,r1;
 842: 0353 47              add     r3,r1;      // r3 = Y*3
 843: 0354 4F              add     r3,r3;
 844: 0355 4F              add     r3,r3;      // r3 = 12*y
 845: 0356 D1 E8 9F        ld.w    r1,#FIRST_DISPLAY_POSN;
 846: 0359 4D              add     r1,r3;
 847: 035A B9 4A 00        st.w    current_display_posn_raw,r1;
 848: 035D B4 4C 00        ld.b    r0,current_X;
 849: 0360 D2 AF 0F        ld.w    r2,#display_biases;
 850: 0363 42              add     r2,r0;
 851: 0364 84              ld.b    r0,(r2);
 852: 0365 41              add     r1,r0;
 853: 0366 B9 48 00        st.w    current_display_posn_biased,r1;
 854:                    
 855: 0369 C6              ret;
 856:                    
 857:                    // *******************************************************
 858:                    // The Tet. has moved
 859:                    // update display and data structures....
 860:                    move_tetromino:
 861:                    //  delete in old position
 862: 036A D3 52 00        ld.w    r3,#prev_rotn;
 863: 036D CF 85 03        jsr     draw_tetromino;
 864:                    
 865:                    //  .., and draw in new
 866: 0370 D3 45 00        ld.w    r3,#current_rotn;
 867: 0373 CF 85 03        jsr     draw_tetromino;
 868:                    
 869:                    // make copy of pointer/position data ....
 870: 0376 D2 45 00        ld.w    r2,#current_rotn;
 871: 0379 D3 52 00        ld.w    r3,#prev_rotn;
 872: 037C 90              ld.w    r0,(r2++);
 873: 037D 9A              st.w    (r3++),R0;
 874: 037E 90              ld.w    r0,(r2++);
 875: 037F 9A              st.w    (r3++),R0;
 876: 0380 90              ld.w    r0,(r2++);
 877: 0381 9A              st.w    (r3++),R0;
 878: 0382 90              ld.w    r0,(r2++);
 879: 0383 9A              st.w    (r3++),R0;
 880:                    
 881: 0384 C6              ret;
 882:                    
 883:                    // *******************************************************
 884:                    // expect r3 points to descriptor
 885:                    // draw the tetromino by XORing in a pattern onto the display.
 886:                    // We use patterns of 4 32 bit words. Each word is applied to 3 lines of the display
 887:                    draw_tetromino:
 888: 0385 97              ld.b    r1,(r3++);      // get in (and move past rotation)
 889: 0386 B4 40 00        ld.b    r0,current_type;
 890: 0389 E6 2F           bne     draw_tet_not_0;
 891: 038B D4 04           ld.b    r0,#4;
 892: 038D DD 00           btst    r1,#0;
 893: 038F E6 2B           bne     draw_tet_normal;
 894:                    
 895:                    //  So here we are dealing with a horizontal I teromino.
 896:                    // This works differently from the others as single row, but its full width
 897:                    // get the pointers to display position and pattern
 898: 0391 93              ld.w    r1,(r3++);
 899: 0392 93              ld.w    r1,(r3++);  // biased position...discard
 900: 0393 93              ld.w    r1,(r3++);  // raw_position...the one we use
 901: 0394 96              ld.b    r0,(r3++);  // X
 902: 0395 40              add     r0,r0;
 903: 0396 40              add     r0,r0;
 904: 0397 D2 7B 0F        ld.w    r2,#horz_I_set;
 905: 039A 42              add     r2,r0;  // points to correct horiz I pattern
 906: 039B 07              move    r3,r1;      // position
 907: 039C D5 0C           ld.b    r1,#12;     // horiz Z is always one cell down (=12 bytes)
 908: 039E 47              add     r3,r1;
 909:                    
 910:                    // and now do single row but do full width
 911: 039F 90              ld.w    r0,(r2++);
 912: 03A0 83              ld.w    r1,(r3);
 913: 03A1 21              xor     r1,r0;
 914: 03A2 9B              st.w    (r3++),r1;
 915: 03A3 80              ld.w    r0,(r2);
 916: 03A4 5A              addq    r2,#-2;     // rewind to use mask of this row again
 917: 03A5 83              ld.w    r1,(r3);
 918: 03A6 21              xor     r1,r0;
 919: 03A7 9B              st.w    (r3++),r1;
 920:                    
 921: 03A8 90              ld.w    r0,(r2++);
 922: 03A9 83              ld.w    r1,(r3);
 923: 03AA 21              xor     r1,r0;
 924: 03AB 9B              st.w    (r3++),r1;
 925: 03AC 80              ld.w    r0,(r2);
 926: 03AD 5A              addq    r2,#-2;     // rewind to use mask of this row again
 927: 03AE 83              ld.w    r1,(r3);
 928: 03AF 21              xor     r1,r0;
 929: 03B0 9B              st.w    (r3++),r1;
 930:                    
 931: 03B1 90              ld.w    r0,(r2++);
 932: 03B2 83              ld.w    r1,(r3);
 933: 03B3 21              xor     r1,r0;
 934: 03B4 9B              st.w    (r3++),r1;
 935: 03B5 90              ld.w    r0,(r2++);  // move forward to get mask for next row
 936: 03B6 83              ld.w    r1,(r3);
 937: 03B7 21              xor     r1,r0;
 938: 03B8 9B              st.w    (r3++),r1;
 939: 03B9 C6              ret;
 940:                    
 941:                    
 942:                    draw_tet_not_0:
 943: 03BA D4 03           ld.b    r0,#3;
 944:                    draw_tet_normal:
 945:                    // get the pointers to display position and pattern
 946: 03BC 93              ld.w    r1,(r3++);
 947: 03BD 06              move    r2,r1;      // pattern
 948: 03BE 93              ld.w    r1,(r3++);
 949: 03BF 07              move    r3,r1;      // position (biased)
 950:                    
 951:                    draw_tet_1:
 952: 03C0 C8              push    r0;
 953:                    
 954: 03C1 90              ld.w    r0,(r2++); // Can use this pattern for 3 rows
 955: 03C2 83              ld.w    r1,(r3);
 956: 03C3 21              xor     r1,r0;
 957: 03C4 9B              st.w    (r3++),r1;
 958: 03C5 53              addq    r3,#2;      // need to move total of 4 bytes for next write
 959:                    
 960: 03C6 83              ld.w    r1,(r3);
 961: 03C7 21              xor     r1,r0;
 962: 03C8 9B              st.w    (r3++),r1;
 963: 03C9 53              addq    r3,#2;      // need to move total of 4 bytes for next write
 964:                    
 965: 03CA 83              ld.w    r1,(r3);
 966: 03CB 21              xor     r1,r0;
 967: 03CC 9B              st.w    (r3++),r1;
 968: 03CD 53              addq    r3,#2;      // need to move total of 4 bytes for next write
 969:                    
 970:                    // stop if about to walk off end of RAM
 971: 03CE D0 FC A0        ld.w    r0,#INT_RAM_START + INT_RAM_LEN - INT_RAM_BYTES_ACROSS;
 972: 03D1 73              cmp     r3,r0;
 973: 03D2 EA 05           bpl     quit_draw;
 974:                    
 975:                    // restore loop count and see if go round again
 976: 03D4 C0              pop     r0;
 977: 03D5 5C              dec     r0;
 978: 03D6 E6 E8           bne     draw_tet_1;
 979:                    
 980: 03D8 C6              ret;
 981:                    
 982:                    quit_draw:  // giving up, sort out stack and then return
 983: 03D9 C0              pop     r0;
 984: 03DA C6              ret;
 985:                    
 986:                    // **************************************
 987: 03DB               end_of_program equ  $;
 988:                    // **************************************
 989:                    // text
 990:                    text_Game:
 991: 03DB 38 10 82 FE     db      0x38,       0x10,       0x82,       0xFE;
 992: 03DF 44 28 C6 02     db      0x44,       0x28,       0xC6,       0x02;
 993: 03E3 82 44 AA 02     db      0x82,       0x44,       0xAA,       0x02;
 994: 03E7 02 82 92 3E     db      0x02,       0x82,       0x92,       0x3E;
 995: 03EB F2 FE 82 02     db      0xF2,       0xFE,       0x82,       0x02;
 996: 03EF 42 82 82 02     db      0x42,       0x82,       0x82,       0x02;
 997: 03F3 44 82 82 02     db      0x44,       0x82,       0x82,       0x02;
 998: 03F7 38 82 82 FE     db      0x38,       0x82,       0x82,       0xFE;
 999:                    
1000:                    text_over:
1001: 03FB 10 82 FE 7E     db      0x10,       0x82,       0xFE,       0x7E;
1002: 03FF 28 82 02 82     db      0x28,       0x82,       0x02,       0x82;
1003: 0403 44 82 02 82     db      0x44,       0x82,       0x02,       0x82;
1004: 0407 82 82 3E 7E     db      0x82,       0x82,       0x3E,       0x7E;
1005: 040B 82 82 02 12     db      0x82,       0x82,       0x02,       0x12;
1006: 040F 44 44 02 22     db      0x44,       0x44,       0x02,       0x22;
1007: 0413 28 28 02 42     db      0x28,       0x28,       0x02,       0x42;
1008: 0417 10 10 FE 82     db      0x10,       0x10,       0xFE,       0x82;
1009:                    
1010:                    // *******************************************************
1011:                    // big data blocks
1012:                    // *******************************************************
1013:                    // These tables generated by tetris_data.cpp
1014:                    
1015: 041B               I_board_cell_sets        equ     $;
1016: 041B 00 00 0F 00     dw    0x0000,   0x000F,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1017: 0423 02 00 02 00     dw    0x0002,   0x0002,   0x0002,   0x0002;     // Offset  0  Rot 1
          02 00 02 00 
1018: 042B 00 00 0F 00     dw    0x0000,   0x000F,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1019: 0433 02 00 02 00     dw    0x0002,   0x0002,   0x0002,   0x0002;     // Offset  0  Rot 3
          02 00 02 00 
1020: 043B 00 00 1E 00     dw    0x0000,   0x001E,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1021: 0443 04 00 04 00     dw    0x0004,   0x0004,   0x0004,   0x0004;     // Offset  1  Rot 1
          04 00 04 00 
1022: 044B 00 00 1E 00     dw    0x0000,   0x001E,   0x0000,   0x0000;     // Offset  1  Rot 2
          00 00 00 00 
1023: 0453 04 00 04 00     dw    0x0004,   0x0004,   0x0004,   0x0004;     // Offset  1  Rot 3
          04 00 04 00 
1024: 045B 00 00 3C 00     dw    0x0000,   0x003C,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1025: 0463 08 00 08 00     dw    0x0008,   0x0008,   0x0008,   0x0008;     // Offset  2  Rot 1
          08 00 08 00 
1026: 046B 00 00 3C 00     dw    0x0000,   0x003C,   0x0000,   0x0000;     // Offset  2  Rot 2
          00 00 00 00 
1027: 0473 08 00 08 00     dw    0x0008,   0x0008,   0x0008,   0x0008;     // Offset  2  Rot 3
          08 00 08 00 
1028: 047B 00 00 78 00     dw    0x0000,   0x0078,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1029: 0483 10 00 10 00     dw    0x0010,   0x0010,   0x0010,   0x0010;     // Offset  3  Rot 1
          10 00 10 00 
1030: 048B 00 00 78 00     dw    0x0000,   0x0078,   0x0000,   0x0000;     // Offset  3  Rot 2
          00 00 00 00 
1031: 0493 10 00 10 00     dw    0x0010,   0x0010,   0x0010,   0x0010;     // Offset  3  Rot 3
          10 00 10 00 
1032: 049B 00 00 F0 00     dw    0x0000,   0x00F0,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1033: 04A3 20 00 20 00     dw    0x0020,   0x0020,   0x0020,   0x0020;     // Offset  4  Rot 1
          20 00 20 00 
1034: 04AB 00 00 F0 00     dw    0x0000,   0x00F0,   0x0000,   0x0000;     // Offset  4  Rot 2
          00 00 00 00 
1035: 04B3 20 00 20 00     dw    0x0020,   0x0020,   0x0020,   0x0020;     // Offset  4  Rot 3
          20 00 20 00 
1036: 04BB 00 00 E0 01     dw    0x0000,   0x01E0,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1037: 04C3 40 00 40 00     dw    0x0040,   0x0040,   0x0040,   0x0040;     // Offset  5  Rot 1
          40 00 40 00 
1038: 04CB 00 00 E0 01     dw    0x0000,   0x01E0,   0x0000,   0x0000;     // Offset  5  Rot 2
          00 00 00 00 
1039: 04D3 40 00 40 00     dw    0x0040,   0x0040,   0x0040,   0x0040;     // Offset  5  Rot 3
          40 00 40 00 
1040: 04DB 00 00 C0 03     dw    0x0000,   0x03C0,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1041: 04E3 80 00 80 00     dw    0x0080,   0x0080,   0x0080,   0x0080;     // Offset  6  Rot 1
          80 00 80 00 
1042: 04EB 00 00 C0 03     dw    0x0000,   0x03C0,   0x0000,   0x0000;     // Offset  6  Rot 2
          00 00 00 00 
1043: 04F3 80 00 80 00     dw    0x0080,   0x0080,   0x0080,   0x0080;     // Offset  6  Rot 3
          80 00 80 00 
1044: 04FB 00 00 80 07     dw    0x0000,   0x0780,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1045: 0503 00 01 00 01     dw    0x0100,   0x0100,   0x0100,   0x0100;     // Offset  7  Rot 1
          00 01 00 01 
1046: 050B 00 00 80 07     dw    0x0000,   0x0780,   0x0000,   0x0000;     // Offset  7  Rot 2
          00 00 00 00 
1047: 0513 00 01 00 01     dw    0x0100,   0x0100,   0x0100,   0x0100;     // Offset  7  Rot 3
          00 01 00 01 
1048: 051B 00 00 00 0F     dw    0x0000,   0x0F00,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1049: 0523 00 02 00 02     dw    0x0200,   0x0200,   0x0200,   0x0200;     // Offset  8  Rot 1
          00 02 00 02 
1050: 052B 00 00 00 0F     dw    0x0000,   0x0F00,   0x0000,   0x0000;     // Offset  8  Rot 2
          00 00 00 00 
1051: 0533 00 02 00 02     dw    0x0200,   0x0200,   0x0200,   0x0200;     // Offset  8  Rot 3
          00 02 00 02 
1052: 053B 00 00 00 1E     dw    0x0000,   0x1E00,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1053: 0543 00 04 00 04     dw    0x0400,   0x0400,   0x0400,   0x0400;     // Offset  9  Rot 1
          00 04 00 04 
1054: 054B 00 00 00 1E     dw    0x0000,   0x1E00,   0x0000,   0x0000;     // Offset  9  Rot 2
          00 00 00 00 
1055: 0553 00 04 00 04     dw    0x0400,   0x0400,   0x0400,   0x0400;     // Offset  9  Rot 3
          00 04 00 04 
1056: 055B 00 00 00 3C     dw    0x0000,   0x3C00,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1057: 0563 00 08 00 08     dw    0x0800,   0x0800,   0x0800,   0x0800;     // Offset 10  Rot 1
          00 08 00 08 
1058: 056B 00 00 00 3C     dw    0x0000,   0x3C00,   0x0000,   0x0000;     // Offset 10  Rot 2
          00 00 00 00 
1059: 0573 00 08 00 08     dw    0x0800,   0x0800,   0x0800,   0x0800;     // Offset 10  Rot 3
          00 08 00 08 
1060: 057B 00 00 00 78     dw    0x0000,   0x7800,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1061: 0583 00 10 00 10     dw    0x1000,   0x1000,   0x1000,   0x1000;     // Offset 11  Rot 1
          00 10 00 10 
1062: 058B 00 00 00 78     dw    0x0000,   0x7800,   0x0000,   0x0000;     // Offset 11  Rot 2
          00 00 00 00 
1063: 0593 00 10 00 10     dw    0x1000,   0x1000,   0x1000,   0x1000;     // Offset 11  Rot 3
          00 10 00 10 
1064: 059B 00 00 00 F0     dw    0x0000,   0xF000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1065: 05A3 00 20 00 20     dw    0x2000,   0x2000,   0x2000,   0x2000;     // Offset 12  Rot 1
          00 20 00 20 
1066: 05AB 00 00 00 F0     dw    0x0000,   0xF000,   0x0000,   0x0000;     // Offset 12  Rot 2
          00 00 00 00 
1067: 05B3 00 20 00 20     dw    0x2000,   0x2000,   0x2000,   0x2000;     // Offset 12  Rot 3
          00 20 00 20 
1068:                    
1069: 05BB               O_board_cell_sets        equ     $;
1070: 05BB 06 00 06 00     dw    0x0006,   0x0006,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1071: 05C3 06 00 06 00     dw    0x0006,   0x0006,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1072: 05CB 06 00 06 00     dw    0x0006,   0x0006,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1073: 05D3 06 00 06 00     dw    0x0006,   0x0006,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1074: 05DB 0C 00 0C 00     dw    0x000C,   0x000C,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1075: 05E3 0C 00 0C 00     dw    0x000C,   0x000C,   0x0000,   0x0000;     // Offset  1  Rot 1
          00 00 00 00 
1076: 05EB 0C 00 0C 00     dw    0x000C,   0x000C,   0x0000,   0x0000;     // Offset  1  Rot 2
          00 00 00 00 
1077: 05F3 0C 00 0C 00     dw    0x000C,   0x000C,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1078: 05FB 18 00 18 00     dw    0x0018,   0x0018,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1079: 0603 18 00 18 00     dw    0x0018,   0x0018,   0x0000,   0x0000;     // Offset  2  Rot 1
          00 00 00 00 
1080: 060B 18 00 18 00     dw    0x0018,   0x0018,   0x0000,   0x0000;     // Offset  2  Rot 2
          00 00 00 00 
1081: 0613 18 00 18 00     dw    0x0018,   0x0018,   0x0000,   0x0000;     // Offset  2  Rot 3
          00 00 00 00 
1082: 061B 30 00 30 00     dw    0x0030,   0x0030,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1083: 0623 30 00 30 00     dw    0x0030,   0x0030,   0x0000,   0x0000;     // Offset  3  Rot 1
          00 00 00 00 
1084: 062B 30 00 30 00     dw    0x0030,   0x0030,   0x0000,   0x0000;     // Offset  3  Rot 2
          00 00 00 00 
1085: 0633 30 00 30 00     dw    0x0030,   0x0030,   0x0000,   0x0000;     // Offset  3  Rot 3
          00 00 00 00 
1086: 063B 60 00 60 00     dw    0x0060,   0x0060,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1087: 0643 60 00 60 00     dw    0x0060,   0x0060,   0x0000,   0x0000;     // Offset  4  Rot 1
          00 00 00 00 
1088: 064B 60 00 60 00     dw    0x0060,   0x0060,   0x0000,   0x0000;     // Offset  4  Rot 2
          00 00 00 00 
1089: 0653 60 00 60 00     dw    0x0060,   0x0060,   0x0000,   0x0000;     // Offset  4  Rot 3
          00 00 00 00 
1090: 065B C0 00 C0 00     dw    0x00C0,   0x00C0,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1091: 0663 C0 00 C0 00     dw    0x00C0,   0x00C0,   0x0000,   0x0000;     // Offset  5  Rot 1
          00 00 00 00 
1092: 066B C0 00 C0 00     dw    0x00C0,   0x00C0,   0x0000,   0x0000;     // Offset  5  Rot 2
          00 00 00 00 
1093: 0673 C0 00 C0 00     dw    0x00C0,   0x00C0,   0x0000,   0x0000;     // Offset  5  Rot 3
          00 00 00 00 
1094: 067B 80 01 80 01     dw    0x0180,   0x0180,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1095: 0683 80 01 80 01     dw    0x0180,   0x0180,   0x0000,   0x0000;     // Offset  6  Rot 1
          00 00 00 00 
1096: 068B 80 01 80 01     dw    0x0180,   0x0180,   0x0000,   0x0000;     // Offset  6  Rot 2
          00 00 00 00 
1097: 0693 80 01 80 01     dw    0x0180,   0x0180,   0x0000,   0x0000;     // Offset  6  Rot 3
          00 00 00 00 
1098: 069B 00 03 00 03     dw    0x0300,   0x0300,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1099: 06A3 00 03 00 03     dw    0x0300,   0x0300,   0x0000,   0x0000;     // Offset  7  Rot 1
          00 00 00 00 
1100: 06AB 00 03 00 03     dw    0x0300,   0x0300,   0x0000,   0x0000;     // Offset  7  Rot 2
          00 00 00 00 
1101: 06B3 00 03 00 03     dw    0x0300,   0x0300,   0x0000,   0x0000;     // Offset  7  Rot 3
          00 00 00 00 
1102: 06BB 00 06 00 06     dw    0x0600,   0x0600,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1103: 06C3 00 06 00 06     dw    0x0600,   0x0600,   0x0000,   0x0000;     // Offset  8  Rot 1
          00 00 00 00 
1104: 06CB 00 06 00 06     dw    0x0600,   0x0600,   0x0000,   0x0000;     // Offset  8  Rot 2
          00 00 00 00 
1105: 06D3 00 06 00 06     dw    0x0600,   0x0600,   0x0000,   0x0000;     // Offset  8  Rot 3
          00 00 00 00 
1106: 06DB 00 0C 00 0C     dw    0x0C00,   0x0C00,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1107: 06E3 00 0C 00 0C     dw    0x0C00,   0x0C00,   0x0000,   0x0000;     // Offset  9  Rot 1
          00 00 00 00 
1108: 06EB 00 0C 00 0C     dw    0x0C00,   0x0C00,   0x0000,   0x0000;     // Offset  9  Rot 2
          00 00 00 00 
1109: 06F3 00 0C 00 0C     dw    0x0C00,   0x0C00,   0x0000,   0x0000;     // Offset  9  Rot 3
          00 00 00 00 
1110: 06FB 00 18 00 18     dw    0x1800,   0x1800,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1111: 0703 00 18 00 18     dw    0x1800,   0x1800,   0x0000,   0x0000;     // Offset 10  Rot 1
          00 00 00 00 
1112: 070B 00 18 00 18     dw    0x1800,   0x1800,   0x0000,   0x0000;     // Offset 10  Rot 2
          00 00 00 00 
1113: 0713 00 18 00 18     dw    0x1800,   0x1800,   0x0000,   0x0000;     // Offset 10  Rot 3
          00 00 00 00 
1114: 071B 00 30 00 30     dw    0x3000,   0x3000,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1115: 0723 00 30 00 30     dw    0x3000,   0x3000,   0x0000,   0x0000;     // Offset 11  Rot 1
          00 00 00 00 
1116: 072B 00 30 00 30     dw    0x3000,   0x3000,   0x0000,   0x0000;     // Offset 11  Rot 2
          00 00 00 00 
1117: 0733 00 30 00 30     dw    0x3000,   0x3000,   0x0000,   0x0000;     // Offset 11  Rot 3
          00 00 00 00 
1118: 073B 00 60 00 60     dw    0x6000,   0x6000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1119: 0743 00 60 00 60     dw    0x6000,   0x6000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1120: 074B 00 60 00 60     dw    0x6000,   0x6000,   0x0000,   0x0000;     // Offset 12  Rot 2
          00 00 00 00 
1121: 0753 00 60 00 60     dw    0x6000,   0x6000,   0x0000,   0x0000;     // Offset 12  Rot 3
          00 00 00 00 
1122:                    
1123: 075B               T_board_cell_sets        equ     $;
1124: 075B 07 00 02 00     dw    0x0007,   0x0002,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1125: 0763 04 00 06 00     dw    0x0004,   0x0006,   0x0004,   0x0000;     // Offset  0  Rot 1
          04 00 00 00 
1126: 076B 00 00 02 00     dw    0x0000,   0x0002,   0x0007,   0x0000;     // Offset  0  Rot 2
          07 00 00 00 
1127: 0773 01 00 03 00     dw    0x0001,   0x0003,   0x0001,   0x0000;     // Offset  0  Rot 3
          01 00 00 00 
1128: 077B 0E 00 04 00     dw    0x000E,   0x0004,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1129: 0783 08 00 0C 00     dw    0x0008,   0x000C,   0x0008,   0x0000;     // Offset  1  Rot 1
          08 00 00 00 
1130: 078B 00 00 04 00     dw    0x0000,   0x0004,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1131: 0793 02 00 06 00     dw    0x0002,   0x0006,   0x0002,   0x0000;     // Offset  1  Rot 3
          02 00 00 00 
1132: 079B 1C 00 08 00     dw    0x001C,   0x0008,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1133: 07A3 10 00 18 00     dw    0x0010,   0x0018,   0x0010,   0x0000;     // Offset  2  Rot 1
          10 00 00 00 
1134: 07AB 00 00 08 00     dw    0x0000,   0x0008,   0x001C,   0x0000;     // Offset  2  Rot 2
          1C 00 00 00 
1135: 07B3 04 00 0C 00     dw    0x0004,   0x000C,   0x0004,   0x0000;     // Offset  2  Rot 3
          04 00 00 00 
1136: 07BB 38 00 10 00     dw    0x0038,   0x0010,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1137: 07C3 20 00 30 00     dw    0x0020,   0x0030,   0x0020,   0x0000;     // Offset  3  Rot 1
          20 00 00 00 
1138: 07CB 00 00 10 00     dw    0x0000,   0x0010,   0x0038,   0x0000;     // Offset  3  Rot 2
          38 00 00 00 
1139: 07D3 08 00 18 00     dw    0x0008,   0x0018,   0x0008,   0x0000;     // Offset  3  Rot 3
          08 00 00 00 
1140: 07DB 70 00 20 00     dw    0x0070,   0x0020,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1141: 07E3 40 00 60 00     dw    0x0040,   0x0060,   0x0040,   0x0000;     // Offset  4  Rot 1
          40 00 00 00 
1142: 07EB 00 00 20 00     dw    0x0000,   0x0020,   0x0070,   0x0000;     // Offset  4  Rot 2
          70 00 00 00 
1143: 07F3 10 00 30 00     dw    0x0010,   0x0030,   0x0010,   0x0000;     // Offset  4  Rot 3
          10 00 00 00 
1144: 07FB E0 00 40 00     dw    0x00E0,   0x0040,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1145: 0803 80 00 C0 00     dw    0x0080,   0x00C0,   0x0080,   0x0000;     // Offset  5  Rot 1
          80 00 00 00 
1146: 080B 00 00 40 00     dw    0x0000,   0x0040,   0x00E0,   0x0000;     // Offset  5  Rot 2
          E0 00 00 00 
1147: 0813 20 00 60 00     dw    0x0020,   0x0060,   0x0020,   0x0000;     // Offset  5  Rot 3
          20 00 00 00 
1148: 081B C0 01 80 00     dw    0x01C0,   0x0080,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1149: 0823 00 01 80 01     dw    0x0100,   0x0180,   0x0100,   0x0000;     // Offset  6  Rot 1
          00 01 00 00 
1150: 082B 00 00 80 00     dw    0x0000,   0x0080,   0x01C0,   0x0000;     // Offset  6  Rot 2
          C0 01 00 00 
1151: 0833 40 00 C0 00     dw    0x0040,   0x00C0,   0x0040,   0x0000;     // Offset  6  Rot 3
          40 00 00 00 
1152: 083B 80 03 00 01     dw    0x0380,   0x0100,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1153: 0843 00 02 00 03     dw    0x0200,   0x0300,   0x0200,   0x0000;     // Offset  7  Rot 1
          00 02 00 00 
1154: 084B 00 00 00 01     dw    0x0000,   0x0100,   0x0380,   0x0000;     // Offset  7  Rot 2
          80 03 00 00 
1155: 0853 80 00 80 01     dw    0x0080,   0x0180,   0x0080,   0x0000;     // Offset  7  Rot 3
          80 00 00 00 
1156: 085B 00 07 00 02     dw    0x0700,   0x0200,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1157: 0863 00 04 00 06     dw    0x0400,   0x0600,   0x0400,   0x0000;     // Offset  8  Rot 1
          00 04 00 00 
1158: 086B 00 00 00 02     dw    0x0000,   0x0200,   0x0700,   0x0000;     // Offset  8  Rot 2
          00 07 00 00 
1159: 0873 00 01 00 03     dw    0x0100,   0x0300,   0x0100,   0x0000;     // Offset  8  Rot 3
          00 01 00 00 
1160: 087B 00 0E 00 04     dw    0x0E00,   0x0400,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1161: 0883 00 08 00 0C     dw    0x0800,   0x0C00,   0x0800,   0x0000;     // Offset  9  Rot 1
          00 08 00 00 
1162: 088B 00 00 00 04     dw    0x0000,   0x0400,   0x0E00,   0x0000;     // Offset  9  Rot 2
          00 0E 00 00 
1163: 0893 00 02 00 06     dw    0x0200,   0x0600,   0x0200,   0x0000;     // Offset  9  Rot 3
          00 02 00 00 
1164: 089B 00 1C 00 08     dw    0x1C00,   0x0800,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1165: 08A3 00 10 00 18     dw    0x1000,   0x1800,   0x1000,   0x0000;     // Offset 10  Rot 1
          00 10 00 00 
1166: 08AB 00 00 00 08     dw    0x0000,   0x0800,   0x1C00,   0x0000;     // Offset 10  Rot 2
          00 1C 00 00 
1167: 08B3 00 04 00 0C     dw    0x0400,   0x0C00,   0x0400,   0x0000;     // Offset 10  Rot 3
          00 04 00 00 
1168: 08BB 00 38 00 10     dw    0x3800,   0x1000,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1169: 08C3 00 20 00 30     dw    0x2000,   0x3000,   0x2000,   0x0000;     // Offset 11  Rot 1
          00 20 00 00 
1170: 08CB 00 00 00 10     dw    0x0000,   0x1000,   0x3800,   0x0000;     // Offset 11  Rot 2
          00 38 00 00 
1171: 08D3 00 08 00 18     dw    0x0800,   0x1800,   0x0800,   0x0000;     // Offset 11  Rot 3
          00 08 00 00 
1172: 08DB 00 70 00 20     dw    0x7000,   0x2000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1173: 08E3 00 40 00 60     dw    0x4000,   0x6000,   0x4000,   0x0000;     // Offset 12  Rot 1
          00 40 00 00 
1174: 08EB 00 00 00 20     dw    0x0000,   0x2000,   0x7000,   0x0000;     // Offset 12  Rot 2
          00 70 00 00 
1175: 08F3 00 10 00 30     dw    0x1000,   0x3000,   0x1000,   0x0000;     // Offset 12  Rot 3
          00 10 00 00 
1176:                    
1177: 08FB               S_board_cell_sets        equ     $;
1178: 08FB 03 00 06 00     dw    0x0003,   0x0006,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1179: 0903 04 00 06 00     dw    0x0004,   0x0006,   0x0002,   0x0000;     // Offset  0  Rot 1
          02 00 00 00 
1180: 090B 00 00 03 00     dw    0x0000,   0x0003,   0x0006,   0x0000;     // Offset  0  Rot 2
          06 00 00 00 
1181: 0913 02 00 03 00     dw    0x0002,   0x0003,   0x0001,   0x0000;     // Offset  0  Rot 3
          01 00 00 00 
1182: 091B 06 00 0C 00     dw    0x0006,   0x000C,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1183: 0923 08 00 0C 00     dw    0x0008,   0x000C,   0x0004,   0x0000;     // Offset  1  Rot 1
          04 00 00 00 
1184: 092B 00 00 06 00     dw    0x0000,   0x0006,   0x000C,   0x0000;     // Offset  1  Rot 2
          0C 00 00 00 
1185: 0933 04 00 06 00     dw    0x0004,   0x0006,   0x0002,   0x0000;     // Offset  1  Rot 3
          02 00 00 00 
1186: 093B 0C 00 18 00     dw    0x000C,   0x0018,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1187: 0943 10 00 18 00     dw    0x0010,   0x0018,   0x0008,   0x0000;     // Offset  2  Rot 1
          08 00 00 00 
1188: 094B 00 00 0C 00     dw    0x0000,   0x000C,   0x0018,   0x0000;     // Offset  2  Rot 2
          18 00 00 00 
1189: 0953 08 00 0C 00     dw    0x0008,   0x000C,   0x0004,   0x0000;     // Offset  2  Rot 3
          04 00 00 00 
1190: 095B 18 00 30 00     dw    0x0018,   0x0030,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1191: 0963 20 00 30 00     dw    0x0020,   0x0030,   0x0010,   0x0000;     // Offset  3  Rot 1
          10 00 00 00 
1192: 096B 00 00 18 00     dw    0x0000,   0x0018,   0x0030,   0x0000;     // Offset  3  Rot 2
          30 00 00 00 
1193: 0973 10 00 18 00     dw    0x0010,   0x0018,   0x0008,   0x0000;     // Offset  3  Rot 3
          08 00 00 00 
1194: 097B 30 00 60 00     dw    0x0030,   0x0060,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1195: 0983 40 00 60 00     dw    0x0040,   0x0060,   0x0020,   0x0000;     // Offset  4  Rot 1
          20 00 00 00 
1196: 098B 00 00 30 00     dw    0x0000,   0x0030,   0x0060,   0x0000;     // Offset  4  Rot 2
          60 00 00 00 
1197: 0993 20 00 30 00     dw    0x0020,   0x0030,   0x0010,   0x0000;     // Offset  4  Rot 3
          10 00 00 00 
1198: 099B 60 00 C0 00     dw    0x0060,   0x00C0,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1199: 09A3 80 00 C0 00     dw    0x0080,   0x00C0,   0x0040,   0x0000;     // Offset  5  Rot 1
          40 00 00 00 
1200: 09AB 00 00 60 00     dw    0x0000,   0x0060,   0x00C0,   0x0000;     // Offset  5  Rot 2
          C0 00 00 00 
1201: 09B3 40 00 60 00     dw    0x0040,   0x0060,   0x0020,   0x0000;     // Offset  5  Rot 3
          20 00 00 00 
1202: 09BB C0 00 80 01     dw    0x00C0,   0x0180,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1203: 09C3 00 01 80 01     dw    0x0100,   0x0180,   0x0080,   0x0000;     // Offset  6  Rot 1
          80 00 00 00 
1204: 09CB 00 00 C0 00     dw    0x0000,   0x00C0,   0x0180,   0x0000;     // Offset  6  Rot 2
          80 01 00 00 
1205: 09D3 80 00 C0 00     dw    0x0080,   0x00C0,   0x0040,   0x0000;     // Offset  6  Rot 3
          40 00 00 00 
1206: 09DB 80 01 00 03     dw    0x0180,   0x0300,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1207: 09E3 00 02 00 03     dw    0x0200,   0x0300,   0x0100,   0x0000;     // Offset  7  Rot 1
          00 01 00 00 
1208: 09EB 00 00 80 01     dw    0x0000,   0x0180,   0x0300,   0x0000;     // Offset  7  Rot 2
          00 03 00 00 
1209: 09F3 00 01 80 01     dw    0x0100,   0x0180,   0x0080,   0x0000;     // Offset  7  Rot 3
          80 00 00 00 
1210: 09FB 00 03 00 06     dw    0x0300,   0x0600,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1211: 0A03 00 04 00 06     dw    0x0400,   0x0600,   0x0200,   0x0000;     // Offset  8  Rot 1
          00 02 00 00 
1212: 0A0B 00 00 00 03     dw    0x0000,   0x0300,   0x0600,   0x0000;     // Offset  8  Rot 2
          00 06 00 00 
1213: 0A13 00 02 00 03     dw    0x0200,   0x0300,   0x0100,   0x0000;     // Offset  8  Rot 3
          00 01 00 00 
1214: 0A1B 00 06 00 0C     dw    0x0600,   0x0C00,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1215: 0A23 00 08 00 0C     dw    0x0800,   0x0C00,   0x0400,   0x0000;     // Offset  9  Rot 1
          00 04 00 00 
1216: 0A2B 00 00 00 06     dw    0x0000,   0x0600,   0x0C00,   0x0000;     // Offset  9  Rot 2
          00 0C 00 00 
1217: 0A33 00 04 00 06     dw    0x0400,   0x0600,   0x0200,   0x0000;     // Offset  9  Rot 3
          00 02 00 00 
1218: 0A3B 00 0C 00 18     dw    0x0C00,   0x1800,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1219: 0A43 00 10 00 18     dw    0x1000,   0x1800,   0x0800,   0x0000;     // Offset 10  Rot 1
          00 08 00 00 
1220: 0A4B 00 00 00 0C     dw    0x0000,   0x0C00,   0x1800,   0x0000;     // Offset 10  Rot 2
          00 18 00 00 
1221: 0A53 00 08 00 0C     dw    0x0800,   0x0C00,   0x0400,   0x0000;     // Offset 10  Rot 3
          00 04 00 00 
1222: 0A5B 00 18 00 30     dw    0x1800,   0x3000,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1223: 0A63 00 20 00 30     dw    0x2000,   0x3000,   0x1000,   0x0000;     // Offset 11  Rot 1
          00 10 00 00 
1224: 0A6B 00 00 00 18     dw    0x0000,   0x1800,   0x3000,   0x0000;     // Offset 11  Rot 2
          00 30 00 00 
1225: 0A73 00 10 00 18     dw    0x1000,   0x1800,   0x0800,   0x0000;     // Offset 11  Rot 3
          00 08 00 00 
1226: 0A7B 00 30 00 60     dw    0x3000,   0x6000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1227: 0A83 00 40 00 60     dw    0x4000,   0x6000,   0x2000,   0x0000;     // Offset 12  Rot 1
          00 20 00 00 
1228: 0A8B 00 00 00 30     dw    0x0000,   0x3000,   0x6000,   0x0000;     // Offset 12  Rot 2
          00 60 00 00 
1229: 0A93 00 20 00 30     dw    0x2000,   0x3000,   0x1000,   0x0000;     // Offset 12  Rot 3
          00 10 00 00 
1230:                    
1231: 0A9B               Z_board_cell_sets        equ     $;
1232: 0A9B 06 00 03 00     dw    0x0006,   0x0003,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1233: 0AA3 02 00 06 00     dw    0x0002,   0x0006,   0x0004,   0x0000;     // Offset  0  Rot 1
          04 00 00 00 
1234: 0AAB 00 00 06 00     dw    0x0000,   0x0006,   0x0003,   0x0000;     // Offset  0  Rot 2
          03 00 00 00 
1235: 0AB3 01 00 03 00     dw    0x0001,   0x0003,   0x0002,   0x0000;     // Offset  0  Rot 3
          02 00 00 00 
1236: 0ABB 0C 00 06 00     dw    0x000C,   0x0006,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1237: 0AC3 04 00 0C 00     dw    0x0004,   0x000C,   0x0008,   0x0000;     // Offset  1  Rot 1
          08 00 00 00 
1238: 0ACB 00 00 0C 00     dw    0x0000,   0x000C,   0x0006,   0x0000;     // Offset  1  Rot 2
          06 00 00 00 
1239: 0AD3 02 00 06 00     dw    0x0002,   0x0006,   0x0004,   0x0000;     // Offset  1  Rot 3
          04 00 00 00 
1240: 0ADB 18 00 0C 00     dw    0x0018,   0x000C,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1241: 0AE3 08 00 18 00     dw    0x0008,   0x0018,   0x0010,   0x0000;     // Offset  2  Rot 1
          10 00 00 00 
1242: 0AEB 00 00 18 00     dw    0x0000,   0x0018,   0x000C,   0x0000;     // Offset  2  Rot 2
          0C 00 00 00 
1243: 0AF3 04 00 0C 00     dw    0x0004,   0x000C,   0x0008,   0x0000;     // Offset  2  Rot 3
          08 00 00 00 
1244: 0AFB 30 00 18 00     dw    0x0030,   0x0018,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1245: 0B03 10 00 30 00     dw    0x0010,   0x0030,   0x0020,   0x0000;     // Offset  3  Rot 1
          20 00 00 00 
1246: 0B0B 00 00 30 00     dw    0x0000,   0x0030,   0x0018,   0x0000;     // Offset  3  Rot 2
          18 00 00 00 
1247: 0B13 08 00 18 00     dw    0x0008,   0x0018,   0x0010,   0x0000;     // Offset  3  Rot 3
          10 00 00 00 
1248: 0B1B 60 00 30 00     dw    0x0060,   0x0030,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1249: 0B23 20 00 60 00     dw    0x0020,   0x0060,   0x0040,   0x0000;     // Offset  4  Rot 1
          40 00 00 00 
1250: 0B2B 00 00 60 00     dw    0x0000,   0x0060,   0x0030,   0x0000;     // Offset  4  Rot 2
          30 00 00 00 
1251: 0B33 10 00 30 00     dw    0x0010,   0x0030,   0x0020,   0x0000;     // Offset  4  Rot 3
          20 00 00 00 
1252: 0B3B C0 00 60 00     dw    0x00C0,   0x0060,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1253: 0B43 40 00 C0 00     dw    0x0040,   0x00C0,   0x0080,   0x0000;     // Offset  5  Rot 1
          80 00 00 00 
1254: 0B4B 00 00 C0 00     dw    0x0000,   0x00C0,   0x0060,   0x0000;     // Offset  5  Rot 2
          60 00 00 00 
1255: 0B53 20 00 60 00     dw    0x0020,   0x0060,   0x0040,   0x0000;     // Offset  5  Rot 3
          40 00 00 00 
1256: 0B5B 80 01 C0 00     dw    0x0180,   0x00C0,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1257: 0B63 80 00 80 01     dw    0x0080,   0x0180,   0x0100,   0x0000;     // Offset  6  Rot 1
          00 01 00 00 
1258: 0B6B 00 00 80 01     dw    0x0000,   0x0180,   0x00C0,   0x0000;     // Offset  6  Rot 2
          C0 00 00 00 
1259: 0B73 40 00 C0 00     dw    0x0040,   0x00C0,   0x0080,   0x0000;     // Offset  6  Rot 3
          80 00 00 00 
1260: 0B7B 00 03 80 01     dw    0x0300,   0x0180,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1261: 0B83 00 01 00 03     dw    0x0100,   0x0300,   0x0200,   0x0000;     // Offset  7  Rot 1
          00 02 00 00 
1262: 0B8B 00 00 00 03     dw    0x0000,   0x0300,   0x0180,   0x0000;     // Offset  7  Rot 2
          80 01 00 00 
1263: 0B93 80 00 80 01     dw    0x0080,   0x0180,   0x0100,   0x0000;     // Offset  7  Rot 3
          00 01 00 00 
1264: 0B9B 00 06 00 03     dw    0x0600,   0x0300,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1265: 0BA3 00 02 00 06     dw    0x0200,   0x0600,   0x0400,   0x0000;     // Offset  8  Rot 1
          00 04 00 00 
1266: 0BAB 00 00 00 06     dw    0x0000,   0x0600,   0x0300,   0x0000;     // Offset  8  Rot 2
          00 03 00 00 
1267: 0BB3 00 01 00 03     dw    0x0100,   0x0300,   0x0200,   0x0000;     // Offset  8  Rot 3
          00 02 00 00 
1268: 0BBB 00 0C 00 06     dw    0x0C00,   0x0600,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1269: 0BC3 00 04 00 0C     dw    0x0400,   0x0C00,   0x0800,   0x0000;     // Offset  9  Rot 1
          00 08 00 00 
1270: 0BCB 00 00 00 0C     dw    0x0000,   0x0C00,   0x0600,   0x0000;     // Offset  9  Rot 2
          00 06 00 00 
1271: 0BD3 00 02 00 06     dw    0x0200,   0x0600,   0x0400,   0x0000;     // Offset  9  Rot 3
          00 04 00 00 
1272: 0BDB 00 18 00 0C     dw    0x1800,   0x0C00,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1273: 0BE3 00 08 00 18     dw    0x0800,   0x1800,   0x1000,   0x0000;     // Offset 10  Rot 1
          00 10 00 00 
1274: 0BEB 00 00 00 18     dw    0x0000,   0x1800,   0x0C00,   0x0000;     // Offset 10  Rot 2
          00 0C 00 00 
1275: 0BF3 00 04 00 0C     dw    0x0400,   0x0C00,   0x0800,   0x0000;     // Offset 10  Rot 3
          00 08 00 00 
1276: 0BFB 00 30 00 18     dw    0x3000,   0x1800,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1277: 0C03 00 10 00 30     dw    0x1000,   0x3000,   0x2000,   0x0000;     // Offset 11  Rot 1
          00 20 00 00 
1278: 0C0B 00 00 00 30     dw    0x0000,   0x3000,   0x1800,   0x0000;     // Offset 11  Rot 2
          00 18 00 00 
1279: 0C13 00 08 00 18     dw    0x0800,   0x1800,   0x1000,   0x0000;     // Offset 11  Rot 3
          00 10 00 00 
1280: 0C1B 00 60 00 30     dw    0x6000,   0x3000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1281: 0C23 00 20 00 60     dw    0x2000,   0x6000,   0x4000,   0x0000;     // Offset 12  Rot 1
          00 40 00 00 
1282: 0C2B 00 00 00 60     dw    0x0000,   0x6000,   0x3000,   0x0000;     // Offset 12  Rot 2
          00 30 00 00 
1283: 0C33 00 10 00 30     dw    0x1000,   0x3000,   0x2000,   0x0000;     // Offset 12  Rot 3
          00 20 00 00 
1284:                    
1285: 0C3B               J_board_cell_sets        equ     $;
1286: 0C3B 07 00 04 00     dw    0x0007,   0x0004,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1287: 0C43 04 00 04 00     dw    0x0004,   0x0004,   0x0006,   0x0000;     // Offset  0  Rot 1
          06 00 00 00 
1288: 0C4B 00 00 01 00     dw    0x0000,   0x0001,   0x0007,   0x0000;     // Offset  0  Rot 2
          07 00 00 00 
1289: 0C53 03 00 01 00     dw    0x0003,   0x0001,   0x0001,   0x0000;     // Offset  0  Rot 3
          01 00 00 00 
1290: 0C5B 0E 00 08 00     dw    0x000E,   0x0008,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1291: 0C63 08 00 08 00     dw    0x0008,   0x0008,   0x000C,   0x0000;     // Offset  1  Rot 1
          0C 00 00 00 
1292: 0C6B 00 00 02 00     dw    0x0000,   0x0002,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1293: 0C73 06 00 02 00     dw    0x0006,   0x0002,   0x0002,   0x0000;     // Offset  1  Rot 3
          02 00 00 00 
1294: 0C7B 1C 00 10 00     dw    0x001C,   0x0010,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1295: 0C83 10 00 10 00     dw    0x0010,   0x0010,   0x0018,   0x0000;     // Offset  2  Rot 1
          18 00 00 00 
1296: 0C8B 00 00 04 00     dw    0x0000,   0x0004,   0x001C,   0x0000;     // Offset  2  Rot 2
          1C 00 00 00 
1297: 0C93 0C 00 04 00     dw    0x000C,   0x0004,   0x0004,   0x0000;     // Offset  2  Rot 3
          04 00 00 00 
1298: 0C9B 38 00 20 00     dw    0x0038,   0x0020,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1299: 0CA3 20 00 20 00     dw    0x0020,   0x0020,   0x0030,   0x0000;     // Offset  3  Rot 1
          30 00 00 00 
1300: 0CAB 00 00 08 00     dw    0x0000,   0x0008,   0x0038,   0x0000;     // Offset  3  Rot 2
          38 00 00 00 
1301: 0CB3 18 00 08 00     dw    0x0018,   0x0008,   0x0008,   0x0000;     // Offset  3  Rot 3
          08 00 00 00 
1302: 0CBB 70 00 40 00     dw    0x0070,   0x0040,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1303: 0CC3 40 00 40 00     dw    0x0040,   0x0040,   0x0060,   0x0000;     // Offset  4  Rot 1
          60 00 00 00 
1304: 0CCB 00 00 10 00     dw    0x0000,   0x0010,   0x0070,   0x0000;     // Offset  4  Rot 2
          70 00 00 00 
1305: 0CD3 30 00 10 00     dw    0x0030,   0x0010,   0x0010,   0x0000;     // Offset  4  Rot 3
          10 00 00 00 
1306: 0CDB E0 00 80 00     dw    0x00E0,   0x0080,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1307: 0CE3 80 00 80 00     dw    0x0080,   0x0080,   0x00C0,   0x0000;     // Offset  5  Rot 1
          C0 00 00 00 
1308: 0CEB 00 00 20 00     dw    0x0000,   0x0020,   0x00E0,   0x0000;     // Offset  5  Rot 2
          E0 00 00 00 
1309: 0CF3 60 00 20 00     dw    0x0060,   0x0020,   0x0020,   0x0000;     // Offset  5  Rot 3
          20 00 00 00 
1310: 0CFB C0 01 00 01     dw    0x01C0,   0x0100,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1311: 0D03 00 01 00 01     dw    0x0100,   0x0100,   0x0180,   0x0000;     // Offset  6  Rot 1
          80 01 00 00 
1312: 0D0B 00 00 40 00     dw    0x0000,   0x0040,   0x01C0,   0x0000;     // Offset  6  Rot 2
          C0 01 00 00 
1313: 0D13 C0 00 40 00     dw    0x00C0,   0x0040,   0x0040,   0x0000;     // Offset  6  Rot 3
          40 00 00 00 
1314: 0D1B 80 03 00 02     dw    0x0380,   0x0200,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1315: 0D23 00 02 00 02     dw    0x0200,   0x0200,   0x0300,   0x0000;     // Offset  7  Rot 1
          00 03 00 00 
1316: 0D2B 00 00 80 00     dw    0x0000,   0x0080,   0x0380,   0x0000;     // Offset  7  Rot 2
          80 03 00 00 
1317: 0D33 80 01 80 00     dw    0x0180,   0x0080,   0x0080,   0x0000;     // Offset  7  Rot 3
          80 00 00 00 
1318: 0D3B 00 07 00 04     dw    0x0700,   0x0400,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1319: 0D43 00 04 00 04     dw    0x0400,   0x0400,   0x0600,   0x0000;     // Offset  8  Rot 1
          00 06 00 00 
1320: 0D4B 00 00 00 01     dw    0x0000,   0x0100,   0x0700,   0x0000;     // Offset  8  Rot 2
          00 07 00 00 
1321: 0D53 00 03 00 01     dw    0x0300,   0x0100,   0x0100,   0x0000;     // Offset  8  Rot 3
          00 01 00 00 
1322: 0D5B 00 0E 00 08     dw    0x0E00,   0x0800,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1323: 0D63 00 08 00 08     dw    0x0800,   0x0800,   0x0C00,   0x0000;     // Offset  9  Rot 1
          00 0C 00 00 
1324: 0D6B 00 00 00 02     dw    0x0000,   0x0200,   0x0E00,   0x0000;     // Offset  9  Rot 2
          00 0E 00 00 
1325: 0D73 00 06 00 02     dw    0x0600,   0x0200,   0x0200,   0x0000;     // Offset  9  Rot 3
          00 02 00 00 
1326: 0D7B 00 1C 00 10     dw    0x1C00,   0x1000,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1327: 0D83 00 10 00 10     dw    0x1000,   0x1000,   0x1800,   0x0000;     // Offset 10  Rot 1
          00 18 00 00 
1328: 0D8B 00 00 00 04     dw    0x0000,   0x0400,   0x1C00,   0x0000;     // Offset 10  Rot 2
          00 1C 00 00 
1329: 0D93 00 0C 00 04     dw    0x0C00,   0x0400,   0x0400,   0x0000;     // Offset 10  Rot 3
          00 04 00 00 
1330: 0D9B 00 38 00 20     dw    0x3800,   0x2000,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1331: 0DA3 00 20 00 20     dw    0x2000,   0x2000,   0x3000,   0x0000;     // Offset 11  Rot 1
          00 30 00 00 
1332: 0DAB 00 00 00 08     dw    0x0000,   0x0800,   0x3800,   0x0000;     // Offset 11  Rot 2
          00 38 00 00 
1333: 0DB3 00 18 00 08     dw    0x1800,   0x0800,   0x0800,   0x0000;     // Offset 11  Rot 3
          00 08 00 00 
1334: 0DBB 00 70 00 40     dw    0x7000,   0x4000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1335: 0DC3 00 40 00 40     dw    0x4000,   0x4000,   0x6000,   0x0000;     // Offset 12  Rot 1
          00 60 00 00 
1336: 0DCB 00 00 00 10     dw    0x0000,   0x1000,   0x7000,   0x0000;     // Offset 12  Rot 2
          00 70 00 00 
1337: 0DD3 00 30 00 10     dw    0x3000,   0x1000,   0x1000,   0x0000;     // Offset 12  Rot 3
          00 10 00 00 
1338:                    
1339: 0DDB               L_board_cell_sets        equ     $;
1340: 0DDB 07 00 01 00     dw    0x0007,   0x0001,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1341: 0DE3 06 00 04 00     dw    0x0006,   0x0004,   0x0004,   0x0000;     // Offset  0  Rot 1
          04 00 00 00 
1342: 0DEB 00 00 04 00     dw    0x0000,   0x0004,   0x0007,   0x0000;     // Offset  0  Rot 2
          07 00 00 00 
1343: 0DF3 01 00 01 00     dw    0x0001,   0x0001,   0x0003,   0x0000;     // Offset  0  Rot 3
          03 00 00 00 
1344: 0DFB 0E 00 02 00     dw    0x000E,   0x0002,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1345: 0E03 0C 00 08 00     dw    0x000C,   0x0008,   0x0008,   0x0000;     // Offset  1  Rot 1
          08 00 00 00 
1346: 0E0B 00 00 08 00     dw    0x0000,   0x0008,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1347: 0E13 02 00 02 00     dw    0x0002,   0x0002,   0x0006,   0x0000;     // Offset  1  Rot 3
          06 00 00 00 
1348: 0E1B 1C 00 04 00     dw    0x001C,   0x0004,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1349: 0E23 18 00 10 00     dw    0x0018,   0x0010,   0x0010,   0x0000;     // Offset  2  Rot 1
          10 00 00 00 
1350: 0E2B 00 00 10 00     dw    0x0000,   0x0010,   0x001C,   0x0000;     // Offset  2  Rot 2
          1C 00 00 00 
1351: 0E33 04 00 04 00     dw    0x0004,   0x0004,   0x000C,   0x0000;     // Offset  2  Rot 3
          0C 00 00 00 
1352: 0E3B 38 00 08 00     dw    0x0038,   0x0008,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1353: 0E43 30 00 20 00     dw    0x0030,   0x0020,   0x0020,   0x0000;     // Offset  3  Rot 1
          20 00 00 00 
1354: 0E4B 00 00 20 00     dw    0x0000,   0x0020,   0x0038,   0x0000;     // Offset  3  Rot 2
          38 00 00 00 
1355: 0E53 08 00 08 00     dw    0x0008,   0x0008,   0x0018,   0x0000;     // Offset  3  Rot 3
          18 00 00 00 
1356: 0E5B 70 00 10 00     dw    0x0070,   0x0010,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1357: 0E63 60 00 40 00     dw    0x0060,   0x0040,   0x0040,   0x0000;     // Offset  4  Rot 1
          40 00 00 00 
1358: 0E6B 00 00 40 00     dw    0x0000,   0x0040,   0x0070,   0x0000;     // Offset  4  Rot 2
          70 00 00 00 
1359: 0E73 10 00 10 00     dw    0x0010,   0x0010,   0x0030,   0x0000;     // Offset  4  Rot 3
          30 00 00 00 
1360: 0E7B E0 00 20 00     dw    0x00E0,   0x0020,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1361: 0E83 C0 00 80 00     dw    0x00C0,   0x0080,   0x0080,   0x0000;     // Offset  5  Rot 1
          80 00 00 00 
1362: 0E8B 00 00 80 00     dw    0x0000,   0x0080,   0x00E0,   0x0000;     // Offset  5  Rot 2
          E0 00 00 00 
1363: 0E93 20 00 20 00     dw    0x0020,   0x0020,   0x0060,   0x0000;     // Offset  5  Rot 3
          60 00 00 00 
1364: 0E9B C0 01 40 00     dw    0x01C0,   0x0040,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1365: 0EA3 80 01 00 01     dw    0x0180,   0x0100,   0x0100,   0x0000;     // Offset  6  Rot 1
          00 01 00 00 
1366: 0EAB 00 00 00 01     dw    0x0000,   0x0100,   0x01C0,   0x0000;     // Offset  6  Rot 2
          C0 01 00 00 
1367: 0EB3 40 00 40 00     dw    0x0040,   0x0040,   0x00C0,   0x0000;     // Offset  6  Rot 3
          C0 00 00 00 
1368: 0EBB 80 03 80 00     dw    0x0380,   0x0080,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1369: 0EC3 00 03 00 02     dw    0x0300,   0x0200,   0x0200,   0x0000;     // Offset  7  Rot 1
          00 02 00 00 
1370: 0ECB 00 00 00 02     dw    0x0000,   0x0200,   0x0380,   0x0000;     // Offset  7  Rot 2
          80 03 00 00 
1371: 0ED3 80 00 80 00     dw    0x0080,   0x0080,   0x0180,   0x0000;     // Offset  7  Rot 3
          80 01 00 00 
1372: 0EDB 00 07 00 01     dw    0x0700,   0x0100,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1373: 0EE3 00 06 00 04     dw    0x0600,   0x0400,   0x0400,   0x0000;     // Offset  8  Rot 1
          00 04 00 00 
1374: 0EEB 00 00 00 04     dw    0x0000,   0x0400,   0x0700,   0x0000;     // Offset  8  Rot 2
          00 07 00 00 
1375: 0EF3 00 01 00 01     dw    0x0100,   0x0100,   0x0300,   0x0000;     // Offset  8  Rot 3
          00 03 00 00 
1376: 0EFB 00 0E 00 02     dw    0x0E00,   0x0200,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1377: 0F03 00 0C 00 08     dw    0x0C00,   0x0800,   0x0800,   0x0000;     // Offset  9  Rot 1
          00 08 00 00 
1378: 0F0B 00 00 00 08     dw    0x0000,   0x0800,   0x0E00,   0x0000;     // Offset  9  Rot 2
          00 0E 00 00 
1379: 0F13 00 02 00 02     dw    0x0200,   0x0200,   0x0600,   0x0000;     // Offset  9  Rot 3
          00 06 00 00 
1380: 0F1B 00 1C 00 04     dw    0x1C00,   0x0400,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1381: 0F23 00 18 00 10     dw    0x1800,   0x1000,   0x1000,   0x0000;     // Offset 10  Rot 1
          00 10 00 00 
1382: 0F2B 00 00 00 10     dw    0x0000,   0x1000,   0x1C00,   0x0000;     // Offset 10  Rot 2
          00 1C 00 00 
1383: 0F33 00 04 00 04     dw    0x0400,   0x0400,   0x0C00,   0x0000;     // Offset 10  Rot 3
          00 0C 00 00 
1384: 0F3B 00 38 00 08     dw    0x3800,   0x0800,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1385: 0F43 00 30 00 20     dw    0x3000,   0x2000,   0x2000,   0x0000;     // Offset 11  Rot 1
          00 20 00 00 
1386: 0F4B 00 00 00 20     dw    0x0000,   0x2000,   0x3800,   0x0000;     // Offset 11  Rot 2
          00 38 00 00 
1387: 0F53 00 08 00 08     dw    0x0800,   0x0800,   0x1800,   0x0000;     // Offset 11  Rot 3
          00 18 00 00 
1388: 0F5B 00 70 00 10     dw    0x7000,   0x1000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1389: 0F63 00 60 00 40     dw    0x6000,   0x4000,   0x4000,   0x0000;     // Offset 12  Rot 1
          00 40 00 00 
1390: 0F6B 00 00 00 40     dw    0x0000,   0x4000,   0x7000,   0x0000;     // Offset 12  Rot 2
          00 70 00 00 
1391: 0F73 00 10 00 10     dw    0x1000,   0x1000,   0x3000,   0x0000;     // Offset 12  Rot 3
          00 30 00 00 
1392:                    
1393: 0F7B               horz_I_set        equ     $;
1394: 0F7B 0E 00 00 00     dl    0x0000000E;
1395: 0F7F 7E 00 00 00     dl    0x0000007E;
1396: 0F83 FE 03 00 00     dl    0x000003FE;
1397: 0F87 FE 1F 00 00     dl    0x00001FFE;
1398: 0F8B F0 FF 00 00     dl    0x0000FFF0;
1399: 0F8F 80 FF 07 00     dl    0x0007FF80;
1400: 0F93 00 FC 3F 00     dl    0x003FFC00;
1401: 0F97 00 E0 FF 01     dl    0x01FFE000;
1402: 0F9B 00 00 FF 0F     dl    0x0FFF0000;
1403: 0F9F 00 00 F8 7F     dl    0x7FF80000;
1404: 0FA3 00 00 C0 7F     dl    0x7FC00000;
1405: 0FA7 00 00 00 7E     dl    0x7E000000;
1406: 0FAB 00 00 00 70     dl    0x70000000;
1407:                    
1408: 0FAF               display_biases        equ     $;
1409: 0FAF 00 00 00 00     db    0, 0, 0, 0, 0, 0, 1, 1, 2, 2, 2, 3, 3;
          00 00 01 01 
          02 02 02 03 
          03 
1410:                    
1411:                    
1412: 0FBC               I_display_pattern_sets        equ     $;
1413: 0FBC 00 00 0E 00     dw    0x0000,   0x000E,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1414: 0FC4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1415: 0FCC 00 00 0E 00     dw    0x0000,   0x000E,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1416: 0FD4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1417: 0FDC 00 00 7E 00     dw    0x0000,   0x007E,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1418: 0FE4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 1
          00 00 00 00 
1419: 0FEC 00 00 7E 00     dw    0x0000,   0x007E,   0x0000,   0x0000;     // Offset  1  Rot 2
          00 00 00 00 
1420: 0FF4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1421: 0FFC 00 00 FE 03     dw    0x0000,   0x03FE,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1422: 1004 0E 00 0E 00     dw    0x000E,   0x000E,   0x000E,   0x000E;     // Offset  2  Rot 1
          0E 00 0E 00 
1423: 100C 00 00 FE 03     dw    0x0000,   0x03FE,   0x0000,   0x0000;     // Offset  2  Rot 2
          00 00 00 00 
1424: 1014 0E 00 0E 00     dw    0x000E,   0x000E,   0x000E,   0x000E;     // Offset  2  Rot 3
          0E 00 0E 00 
1425: 101C 00 00 FE 1F     dw    0x0000,   0x1FFE,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1426: 1024 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0070;     // Offset  3  Rot 1
          70 00 70 00 
1427: 102C 00 00 FE 1F     dw    0x0000,   0x1FFE,   0x0000,   0x0000;     // Offset  3  Rot 2
          00 00 00 00 
1428: 1034 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0070;     // Offset  3  Rot 3
          70 00 70 00 
1429: 103C 00 00 F0 FF     dw    0x0000,   0xFFF0,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1430: 1044 80 03 80 03     dw    0x0380,   0x0380,   0x0380,   0x0380;     // Offset  4  Rot 1
          80 03 80 03 
1431: 104C 00 00 F0 FF     dw    0x0000,   0xFFF0,   0x0000,   0x0000;     // Offset  4  Rot 2
          00 00 00 00 
1432: 1054 80 03 80 03     dw    0x0380,   0x0380,   0x0380,   0x0380;     // Offset  4  Rot 3
          80 03 80 03 
1433: 105C 00 00 80 FF     dw    0x0000,   0xFF80,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1434: 1064 00 1C 00 1C     dw    0x1C00,   0x1C00,   0x1C00,   0x1C00;     // Offset  5  Rot 1
          00 1C 00 1C 
1435: 106C 00 00 80 FF     dw    0x0000,   0xFF80,   0x0000,   0x0000;     // Offset  5  Rot 2
          00 00 00 00 
1436: 1074 00 1C 00 1C     dw    0x1C00,   0x1C00,   0x1C00,   0x1C00;     // Offset  5  Rot 3
          00 1C 00 1C 
1437: 107C 00 00 FC 3F     dw    0x0000,   0x3FFC,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1438: 1084 E0 00 E0 00     dw    0x00E0,   0x00E0,   0x00E0,   0x00E0;     // Offset  6  Rot 1
          E0 00 E0 00 
1439: 108C 00 00 FC 3F     dw    0x0000,   0x3FFC,   0x0000,   0x0000;     // Offset  6  Rot 2
          00 00 00 00 
1440: 1094 E0 00 E0 00     dw    0x00E0,   0x00E0,   0x00E0,   0x00E0;     // Offset  6  Rot 3
          E0 00 E0 00 
1441: 109C 00 00 E0 FF     dw    0x0000,   0xFFE0,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1442: 10A4 00 07 00 07     dw    0x0700,   0x0700,   0x0700,   0x0700;     // Offset  7  Rot 1
          00 07 00 07 
1443: 10AC 00 00 E0 FF     dw    0x0000,   0xFFE0,   0x0000,   0x0000;     // Offset  7  Rot 2
          00 00 00 00 
1444: 10B4 00 07 00 07     dw    0x0700,   0x0700,   0x0700,   0x0700;     // Offset  7  Rot 3
          00 07 00 07 
1445: 10BC 00 00 FF 0F     dw    0x0000,   0x0FFF,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1446: 10C4 38 00 38 00     dw    0x0038,   0x0038,   0x0038,   0x0038;     // Offset  8  Rot 1
          38 00 38 00 
1447: 10CC 00 00 FF 0F     dw    0x0000,   0x0FFF,   0x0000,   0x0000;     // Offset  8  Rot 2
          00 00 00 00 
1448: 10D4 38 00 38 00     dw    0x0038,   0x0038,   0x0038,   0x0038;     // Offset  8  Rot 3
          38 00 38 00 
1449: 10DC 00 00 F8 7F     dw    0x0000,   0x7FF8,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1450: 10E4 C0 01 C0 01     dw    0x01C0,   0x01C0,   0x01C0,   0x01C0;     // Offset  9  Rot 1
          C0 01 C0 01 
1451: 10EC 00 00 F8 7F     dw    0x0000,   0x7FF8,   0x0000,   0x0000;     // Offset  9  Rot 2
          00 00 00 00 
1452: 10F4 C0 01 C0 01     dw    0x01C0,   0x01C0,   0x01C0,   0x01C0;     // Offset  9  Rot 3
          C0 01 C0 01 
1453: 10FC 00 00 C0 7F     dw    0x0000,   0x7FC0,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1454: 1104 00 0E 00 0E     dw    0x0E00,   0x0E00,   0x0E00,   0x0E00;     // Offset 10  Rot 1
          00 0E 00 0E 
1455: 110C 00 00 C0 7F     dw    0x0000,   0x7FC0,   0x0000,   0x0000;     // Offset 10  Rot 2
          00 00 00 00 
1456: 1114 00 0E 00 0E     dw    0x0E00,   0x0E00,   0x0E00,   0x0E00;     // Offset 10  Rot 3
          00 0E 00 0E 
1457: 111C 00 00 7E 00     dw    0x0000,   0x007E,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1458: 1124 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0070;     // Offset 11  Rot 1
          70 00 70 00 
1459: 112C 00 00 7E 00     dw    0x0000,   0x007E,   0x0000,   0x0000;     // Offset 11  Rot 2
          00 00 00 00 
1460: 1134 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0070;     // Offset 11  Rot 3
          70 00 70 00 
1461: 113C 00 00 70 00     dw    0x0000,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1462: 1144 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1463: 114C 00 00 70 00     dw    0x0000,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 2
          00 00 00 00 
1464: 1154 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 3
          00 00 00 00 
1465:                    
1466: 115C               O_display_pattern_sets        equ     $;
1467: 115C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1468: 1164 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1469: 116C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1470: 1174 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1471: 117C 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1472: 1184 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 1
          00 00 00 00 
1473: 118C 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 2
          00 00 00 00 
1474: 1194 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1475: 119C 7E 00 7E 00     dw    0x007E,   0x007E,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1476: 11A4 7E 00 7E 00     dw    0x007E,   0x007E,   0x0000,   0x0000;     // Offset  2  Rot 1
          00 00 00 00 
1477: 11AC 7E 00 7E 00     dw    0x007E,   0x007E,   0x0000,   0x0000;     // Offset  2  Rot 2
          00 00 00 00 
1478: 11B4 7E 00 7E 00     dw    0x007E,   0x007E,   0x0000,   0x0000;     // Offset  2  Rot 3
          00 00 00 00 
1479: 11BC F0 03 F0 03     dw    0x03F0,   0x03F0,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1480: 11C4 F0 03 F0 03     dw    0x03F0,   0x03F0,   0x0000,   0x0000;     // Offset  3  Rot 1
          00 00 00 00 
1481: 11CC F0 03 F0 03     dw    0x03F0,   0x03F0,   0x0000,   0x0000;     // Offset  3  Rot 2
          00 00 00 00 
1482: 11D4 F0 03 F0 03     dw    0x03F0,   0x03F0,   0x0000,   0x0000;     // Offset  3  Rot 3
          00 00 00 00 
1483: 11DC 80 1F 80 1F     dw    0x1F80,   0x1F80,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1484: 11E4 80 1F 80 1F     dw    0x1F80,   0x1F80,   0x0000,   0x0000;     // Offset  4  Rot 1
          00 00 00 00 
1485: 11EC 80 1F 80 1F     dw    0x1F80,   0x1F80,   0x0000,   0x0000;     // Offset  4  Rot 2
          00 00 00 00 
1486: 11F4 80 1F 80 1F     dw    0x1F80,   0x1F80,   0x0000,   0x0000;     // Offset  4  Rot 3
          00 00 00 00 
1487: 11FC 00 FC 00 FC     dw    0xFC00,   0xFC00,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1488: 1204 00 FC 00 FC     dw    0xFC00,   0xFC00,   0x0000,   0x0000;     // Offset  5  Rot 1
          00 00 00 00 
1489: 120C 00 FC 00 FC     dw    0xFC00,   0xFC00,   0x0000,   0x0000;     // Offset  5  Rot 2
          00 00 00 00 
1490: 1214 00 FC 00 FC     dw    0xFC00,   0xFC00,   0x0000,   0x0000;     // Offset  5  Rot 3
          00 00 00 00 
1491: 121C E0 07 E0 07     dw    0x07E0,   0x07E0,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1492: 1224 E0 07 E0 07     dw    0x07E0,   0x07E0,   0x0000,   0x0000;     // Offset  6  Rot 1
          00 00 00 00 
1493: 122C E0 07 E0 07     dw    0x07E0,   0x07E0,   0x0000,   0x0000;     // Offset  6  Rot 2
          00 00 00 00 
1494: 1234 E0 07 E0 07     dw    0x07E0,   0x07E0,   0x0000,   0x0000;     // Offset  6  Rot 3
          00 00 00 00 
1495: 123C 00 3F 00 3F     dw    0x3F00,   0x3F00,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1496: 1244 00 3F 00 3F     dw    0x3F00,   0x3F00,   0x0000,   0x0000;     // Offset  7  Rot 1
          00 00 00 00 
1497: 124C 00 3F 00 3F     dw    0x3F00,   0x3F00,   0x0000,   0x0000;     // Offset  7  Rot 2
          00 00 00 00 
1498: 1254 00 3F 00 3F     dw    0x3F00,   0x3F00,   0x0000,   0x0000;     // Offset  7  Rot 3
          00 00 00 00 
1499: 125C F8 01 F8 01     dw    0x01F8,   0x01F8,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1500: 1264 F8 01 F8 01     dw    0x01F8,   0x01F8,   0x0000,   0x0000;     // Offset  8  Rot 1
          00 00 00 00 
1501: 126C F8 01 F8 01     dw    0x01F8,   0x01F8,   0x0000,   0x0000;     // Offset  8  Rot 2
          00 00 00 00 
1502: 1274 F8 01 F8 01     dw    0x01F8,   0x01F8,   0x0000,   0x0000;     // Offset  8  Rot 3
          00 00 00 00 
1503: 127C C0 0F C0 0F     dw    0x0FC0,   0x0FC0,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1504: 1284 C0 0F C0 0F     dw    0x0FC0,   0x0FC0,   0x0000,   0x0000;     // Offset  9  Rot 1
          00 00 00 00 
1505: 128C C0 0F C0 0F     dw    0x0FC0,   0x0FC0,   0x0000,   0x0000;     // Offset  9  Rot 2
          00 00 00 00 
1506: 1294 C0 0F C0 0F     dw    0x0FC0,   0x0FC0,   0x0000,   0x0000;     // Offset  9  Rot 3
          00 00 00 00 
1507: 129C 00 7E 00 7E     dw    0x7E00,   0x7E00,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1508: 12A4 00 7E 00 7E     dw    0x7E00,   0x7E00,   0x0000,   0x0000;     // Offset 10  Rot 1
          00 00 00 00 
1509: 12AC 00 7E 00 7E     dw    0x7E00,   0x7E00,   0x0000,   0x0000;     // Offset 10  Rot 2
          00 00 00 00 
1510: 12B4 00 7E 00 7E     dw    0x7E00,   0x7E00,   0x0000,   0x0000;     // Offset 10  Rot 3
          00 00 00 00 
1511: 12BC 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1512: 12C4 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 1
          00 00 00 00 
1513: 12CC 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 2
          00 00 00 00 
1514: 12D4 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 3
          00 00 00 00 
1515: 12DC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1516: 12E4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1517: 12EC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 2
          00 00 00 00 
1518: 12F4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 3
          00 00 00 00 
1519:                    
1520: 12FC               T_display_pattern_sets        equ     $;
1521: 12FC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1522: 1304 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1523: 130C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1524: 1314 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1525: 131C 0E 00 00 00     dw    0x000E,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1526: 1324 0E 00 0E 00     dw    0x000E,   0x000E,   0x000E,   0x0000;     // Offset  1  Rot 1
          0E 00 00 00 
1527: 132C 00 00 00 00     dw    0x0000,   0x0000,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1528: 1334 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1529: 133C 7E 00 0E 00     dw    0x007E,   0x000E,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1530: 1344 70 00 7E 00     dw    0x0070,   0x007E,   0x0070,   0x0000;     // Offset  2  Rot 1
          70 00 00 00 
1531: 134C 00 00 0E 00     dw    0x0000,   0x000E,   0x007E,   0x0000;     // Offset  2  Rot 2
          7E 00 00 00 
1532: 1354 00 00 0E 00     dw    0x0000,   0x000E,   0x0000,   0x0000;     // Offset  2  Rot 3
          00 00 00 00 
1533: 135C FE 03 70 00     dw    0x03FE,   0x0070,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1534: 1364 80 03 F0 03     dw    0x0380,   0x03F0,   0x0380,   0x0000;     // Offset  3  Rot 1
          80 03 00 00 
1535: 136C 00 00 70 00     dw    0x0000,   0x0070,   0x03FE,   0x0000;     // Offset  3  Rot 2
          FE 03 00 00 
1536: 1374 0E 00 7E 00     dw    0x000E,   0x007E,   0x000E,   0x0000;     // Offset  3  Rot 3
          0E 00 00 00 
1537: 137C F0 1F 80 03     dw    0x1FF0,   0x0380,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1538: 1384 00 1C 80 1F     dw    0x1C00,   0x1F80,   0x1C00,   0x0000;     // Offset  4  Rot 1
          00 1C 00 00 
1539: 138C 00 00 80 03     dw    0x0000,   0x0380,   0x1FF0,   0x0000;     // Offset  4  Rot 2
          F0 1F 00 00 
1540: 1394 70 00 F0 03     dw    0x0070,   0x03F0,   0x0070,   0x0000;     // Offset  4  Rot 3
          70 00 00 00 
1541: 139C 80 FF 00 1C     dw    0xFF80,   0x1C00,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1542: 13A4 00 E0 00 FC     dw    0xE000,   0xFC00,   0xE000,   0x0000;     // Offset  5  Rot 1
          00 E0 00 00 
1543: 13AC 00 00 00 1C     dw    0x0000,   0x1C00,   0xFF80,   0x0000;     // Offset  5  Rot 2
          80 FF 00 00 
1544: 13B4 80 03 80 1F     dw    0x0380,   0x1F80,   0x0380,   0x0000;     // Offset  5  Rot 3
          80 03 00 00 
1545: 13BC FC 07 E0 00     dw    0x07FC,   0x00E0,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1546: 13C4 00 07 E0 07     dw    0x0700,   0x07E0,   0x0700,   0x0000;     // Offset  6  Rot 1
          00 07 00 00 
1547: 13CC 00 00 E0 00     dw    0x0000,   0x00E0,   0x07FC,   0x0000;     // Offset  6  Rot 2
          FC 07 00 00 
1548: 13D4 1C 00 FC 00     dw    0x001C,   0x00FC,   0x001C,   0x0000;     // Offset  6  Rot 3
          1C 00 00 00 
1549: 13DC E0 3F 00 07     dw    0x3FE0,   0x0700,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1550: 13E4 00 38 00 3F     dw    0x3800,   0x3F00,   0x3800,   0x0000;     // Offset  7  Rot 1
          00 38 00 00 
1551: 13EC 00 00 00 07     dw    0x0000,   0x0700,   0x3FE0,   0x0000;     // Offset  7  Rot 2
          E0 3F 00 00 
1552: 13F4 E0 00 E0 07     dw    0x00E0,   0x07E0,   0x00E0,   0x0000;     // Offset  7  Rot 3
          E0 00 00 00 
1553: 13FC FF 01 38 00     dw    0x01FF,   0x0038,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1554: 1404 C0 01 F8 01     dw    0x01C0,   0x01F8,   0x01C0,   0x0000;     // Offset  8  Rot 1
          C0 01 00 00 
1555: 140C 00 00 38 00     dw    0x0000,   0x0038,   0x01FF,   0x0000;     // Offset  8  Rot 2
          FF 01 00 00 
1556: 1414 07 00 3F 00     dw    0x0007,   0x003F,   0x0007,   0x0000;     // Offset  8  Rot 3
          07 00 00 00 
1557: 141C F8 0F C0 01     dw    0x0FF8,   0x01C0,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1558: 1424 00 0E C0 0F     dw    0x0E00,   0x0FC0,   0x0E00,   0x0000;     // Offset  9  Rot 1
          00 0E 00 00 
1559: 142C 00 00 C0 01     dw    0x0000,   0x01C0,   0x0FF8,   0x0000;     // Offset  9  Rot 2
          F8 0F 00 00 
1560: 1434 38 00 F8 01     dw    0x0038,   0x01F8,   0x0038,   0x0000;     // Offset  9  Rot 3
          38 00 00 00 
1561: 143C C0 7F 00 0E     dw    0x7FC0,   0x0E00,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1562: 1444 00 70 00 7E     dw    0x7000,   0x7E00,   0x7000,   0x0000;     // Offset 10  Rot 1
          00 70 00 00 
1563: 144C 00 00 00 0E     dw    0x0000,   0x0E00,   0x7FC0,   0x0000;     // Offset 10  Rot 2
          C0 7F 00 00 
1564: 1454 C0 01 C0 0F     dw    0x01C0,   0x0FC0,   0x01C0,   0x0000;     // Offset 10  Rot 3
          C0 01 00 00 
1565: 145C 7E 00 70 00     dw    0x007E,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1566: 1464 00 00 70 00     dw    0x0000,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 1
          00 00 00 00 
1567: 146C 00 00 70 00     dw    0x0000,   0x0070,   0x007E,   0x0000;     // Offset 11  Rot 2
          7E 00 00 00 
1568: 1474 0E 00 7E 00     dw    0x000E,   0x007E,   0x000E,   0x0000;     // Offset 11  Rot 3
          0E 00 00 00 
1569: 147C 70 00 00 00     dw    0x0070,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1570: 1484 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1571: 148C 00 00 00 00     dw    0x0000,   0x0000,   0x0070,   0x0000;     // Offset 12  Rot 2
          70 00 00 00 
1572: 1494 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0000;     // Offset 12  Rot 3
          70 00 00 00 
1573:                    
1574: 149C               S_display_pattern_sets        equ     $;
1575: 149C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1576: 14A4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1577: 14AC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1578: 14B4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1579: 14BC 00 00 0E 00     dw    0x0000,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1580: 14C4 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 1
          00 00 00 00 
1581: 14CC 00 00 00 00     dw    0x0000,   0x0000,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1582: 14D4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1583: 14DC 0E 00 7E 00     dw    0x000E,   0x007E,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1584: 14E4 70 00 7E 00     dw    0x0070,   0x007E,   0x000E,   0x0000;     // Offset  2  Rot 1
          0E 00 00 00 
1585: 14EC 00 00 0E 00     dw    0x0000,   0x000E,   0x007E,   0x0000;     // Offset  2  Rot 2
          7E 00 00 00 
1586: 14F4 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  2  Rot 3
          00 00 00 00 
1587: 14FC 7E 00 F0 03     dw    0x007E,   0x03F0,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1588: 1504 80 03 F0 03     dw    0x0380,   0x03F0,   0x0070,   0x0000;     // Offset  3  Rot 1
          70 00 00 00 
1589: 150C 00 00 7E 00     dw    0x0000,   0x007E,   0x03F0,   0x0000;     // Offset  3  Rot 2
          F0 03 00 00 
1590: 1514 70 00 7E 00     dw    0x0070,   0x007E,   0x000E,   0x0000;     // Offset  3  Rot 3
          0E 00 00 00 
1591: 151C F0 03 80 1F     dw    0x03F0,   0x1F80,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1592: 1524 00 1C 80 1F     dw    0x1C00,   0x1F80,   0x0380,   0x0000;     // Offset  4  Rot 1
          80 03 00 00 
1593: 152C 00 00 F0 03     dw    0x0000,   0x03F0,   0x1F80,   0x0000;     // Offset  4  Rot 2
          80 1F 00 00 
1594: 1534 80 03 F0 03     dw    0x0380,   0x03F0,   0x0070,   0x0000;     // Offset  4  Rot 3
          70 00 00 00 
1595: 153C 80 1F 00 FC     dw    0x1F80,   0xFC00,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1596: 1544 00 E0 00 FC     dw    0xE000,   0xFC00,   0x1C00,   0x0000;     // Offset  5  Rot 1
          00 1C 00 00 
1597: 154C 00 00 80 1F     dw    0x0000,   0x1F80,   0xFC00,   0x0000;     // Offset  5  Rot 2
          00 FC 00 00 
1598: 1554 00 1C 80 1F     dw    0x1C00,   0x1F80,   0x0380,   0x0000;     // Offset  5  Rot 3
          80 03 00 00 
1599: 155C FC 00 E0 07     dw    0x00FC,   0x07E0,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1600: 1564 00 07 E0 07     dw    0x0700,   0x07E0,   0x00E0,   0x0000;     // Offset  6  Rot 1
          E0 00 00 00 
1601: 156C 00 00 FC 00     dw    0x0000,   0x00FC,   0x07E0,   0x0000;     // Offset  6  Rot 2
          E0 07 00 00 
1602: 1574 E0 00 FC 00     dw    0x00E0,   0x00FC,   0x001C,   0x0000;     // Offset  6  Rot 3
          1C 00 00 00 
1603: 157C E0 07 00 3F     dw    0x07E0,   0x3F00,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1604: 1584 00 38 00 3F     dw    0x3800,   0x3F00,   0x0700,   0x0000;     // Offset  7  Rot 1
          00 07 00 00 
1605: 158C 00 00 E0 07     dw    0x0000,   0x07E0,   0x3F00,   0x0000;     // Offset  7  Rot 2
          00 3F 00 00 
1606: 1594 00 07 E0 07     dw    0x0700,   0x07E0,   0x00E0,   0x0000;     // Offset  7  Rot 3
          E0 00 00 00 
1607: 159C 3F 00 F8 01     dw    0x003F,   0x01F8,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1608: 15A4 C0 01 F8 01     dw    0x01C0,   0x01F8,   0x0038,   0x0000;     // Offset  8  Rot 1
          38 00 00 00 
1609: 15AC 00 00 3F 00     dw    0x0000,   0x003F,   0x01F8,   0x0000;     // Offset  8  Rot 2
          F8 01 00 00 
1610: 15B4 38 00 3F 00     dw    0x0038,   0x003F,   0x0007,   0x0000;     // Offset  8  Rot 3
          07 00 00 00 
1611: 15BC F8 01 C0 0F     dw    0x01F8,   0x0FC0,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1612: 15C4 00 0E C0 0F     dw    0x0E00,   0x0FC0,   0x01C0,   0x0000;     // Offset  9  Rot 1
          C0 01 00 00 
1613: 15CC 00 00 F8 01     dw    0x0000,   0x01F8,   0x0FC0,   0x0000;     // Offset  9  Rot 2
          C0 0F 00 00 
1614: 15D4 C0 01 F8 01     dw    0x01C0,   0x01F8,   0x0038,   0x0000;     // Offset  9  Rot 3
          38 00 00 00 
1615: 15DC C0 0F 00 7E     dw    0x0FC0,   0x7E00,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1616: 15E4 00 70 00 7E     dw    0x7000,   0x7E00,   0x0E00,   0x0000;     // Offset 10  Rot 1
          00 0E 00 00 
1617: 15EC 00 00 C0 0F     dw    0x0000,   0x0FC0,   0x7E00,   0x0000;     // Offset 10  Rot 2
          00 7E 00 00 
1618: 15F4 00 0E C0 0F     dw    0x0E00,   0x0FC0,   0x01C0,   0x0000;     // Offset 10  Rot 3
          C0 01 00 00 
1619: 15FC 7E 00 70 00     dw    0x007E,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1620: 1604 00 00 70 00     dw    0x0000,   0x0070,   0x0070,   0x0000;     // Offset 11  Rot 1
          70 00 00 00 
1621: 160C 00 00 7E 00     dw    0x0000,   0x007E,   0x0070,   0x0000;     // Offset 11  Rot 2
          70 00 00 00 
1622: 1614 70 00 7E 00     dw    0x0070,   0x007E,   0x000E,   0x0000;     // Offset 11  Rot 3
          0E 00 00 00 
1623: 161C 70 00 00 00     dw    0x0070,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1624: 1624 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1625: 162C 00 00 70 00     dw    0x0000,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 2
          00 00 00 00 
1626: 1634 00 00 70 00     dw    0x0000,   0x0070,   0x0070,   0x0000;     // Offset 12  Rot 3
          70 00 00 00 
1627:                    
1628: 163C               Z_display_pattern_sets        equ     $;
1629: 163C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1630: 1644 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1631: 164C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1632: 1654 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1633: 165C 0E 00 00 00     dw    0x000E,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1634: 1664 00 00 0E 00     dw    0x0000,   0x000E,   0x000E,   0x0000;     // Offset  1  Rot 1
          0E 00 00 00 
1635: 166C 00 00 0E 00     dw    0x0000,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 2
          00 00 00 00 
1636: 1674 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1637: 167C 7E 00 0E 00     dw    0x007E,   0x000E,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1638: 1684 0E 00 7E 00     dw    0x000E,   0x007E,   0x0070,   0x0000;     // Offset  2  Rot 1
          70 00 00 00 
1639: 168C 00 00 7E 00     dw    0x0000,   0x007E,   0x000E,   0x0000;     // Offset  2  Rot 2
          0E 00 00 00 
1640: 1694 00 00 0E 00     dw    0x0000,   0x000E,   0x000E,   0x0000;     // Offset  2  Rot 3
          0E 00 00 00 
1641: 169C F0 03 7E 00     dw    0x03F0,   0x007E,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1642: 16A4 70 00 F0 03     dw    0x0070,   0x03F0,   0x0380,   0x0000;     // Offset  3  Rot 1
          80 03 00 00 
1643: 16AC 00 00 F0 03     dw    0x0000,   0x03F0,   0x007E,   0x0000;     // Offset  3  Rot 2
          7E 00 00 00 
1644: 16B4 0E 00 7E 00     dw    0x000E,   0x007E,   0x0070,   0x0000;     // Offset  3  Rot 3
          70 00 00 00 
1645: 16BC 80 1F F0 03     dw    0x1F80,   0x03F0,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1646: 16C4 80 03 80 1F     dw    0x0380,   0x1F80,   0x1C00,   0x0000;     // Offset  4  Rot 1
          00 1C 00 00 
1647: 16CC 00 00 80 1F     dw    0x0000,   0x1F80,   0x03F0,   0x0000;     // Offset  4  Rot 2
          F0 03 00 00 
1648: 16D4 70 00 F0 03     dw    0x0070,   0x03F0,   0x0380,   0x0000;     // Offset  4  Rot 3
          80 03 00 00 
1649: 16DC 00 FC 80 1F     dw    0xFC00,   0x1F80,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1650: 16E4 00 1C 00 FC     dw    0x1C00,   0xFC00,   0xE000,   0x0000;     // Offset  5  Rot 1
          00 E0 00 00 
1651: 16EC 00 00 00 FC     dw    0x0000,   0xFC00,   0x1F80,   0x0000;     // Offset  5  Rot 2
          80 1F 00 00 
1652: 16F4 80 03 80 1F     dw    0x0380,   0x1F80,   0x1C00,   0x0000;     // Offset  5  Rot 3
          00 1C 00 00 
1653: 16FC E0 07 FC 00     dw    0x07E0,   0x00FC,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1654: 1704 E0 00 E0 07     dw    0x00E0,   0x07E0,   0x0700,   0x0000;     // Offset  6  Rot 1
          00 07 00 00 
1655: 170C 00 00 E0 07     dw    0x0000,   0x07E0,   0x00FC,   0x0000;     // Offset  6  Rot 2
          FC 00 00 00 
1656: 1714 1C 00 FC 00     dw    0x001C,   0x00FC,   0x00E0,   0x0000;     // Offset  6  Rot 3
          E0 00 00 00 
1657: 171C 00 3F E0 07     dw    0x3F00,   0x07E0,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1658: 1724 00 07 00 3F     dw    0x0700,   0x3F00,   0x3800,   0x0000;     // Offset  7  Rot 1
          00 38 00 00 
1659: 172C 00 00 00 3F     dw    0x0000,   0x3F00,   0x07E0,   0x0000;     // Offset  7  Rot 2
          E0 07 00 00 
1660: 1734 E0 00 E0 07     dw    0x00E0,   0x07E0,   0x0700,   0x0000;     // Offset  7  Rot 3
          00 07 00 00 
1661: 173C F8 01 3F 00     dw    0x01F8,   0x003F,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1662: 1744 38 00 F8 01     dw    0x0038,   0x01F8,   0x01C0,   0x0000;     // Offset  8  Rot 1
          C0 01 00 00 
1663: 174C 00 00 F8 01     dw    0x0000,   0x01F8,   0x003F,   0x0000;     // Offset  8  Rot 2
          3F 00 00 00 
1664: 1754 07 00 3F 00     dw    0x0007,   0x003F,   0x0038,   0x0000;     // Offset  8  Rot 3
          38 00 00 00 
1665: 175C C0 0F F8 01     dw    0x0FC0,   0x01F8,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1666: 1764 C0 01 C0 0F     dw    0x01C0,   0x0FC0,   0x0E00,   0x0000;     // Offset  9  Rot 1
          00 0E 00 00 
1667: 176C 00 00 C0 0F     dw    0x0000,   0x0FC0,   0x01F8,   0x0000;     // Offset  9  Rot 2
          F8 01 00 00 
1668: 1774 38 00 F8 01     dw    0x0038,   0x01F8,   0x01C0,   0x0000;     // Offset  9  Rot 3
          C0 01 00 00 
1669: 177C 00 7E C0 0F     dw    0x7E00,   0x0FC0,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1670: 1784 00 0E 00 7E     dw    0x0E00,   0x7E00,   0x7000,   0x0000;     // Offset 10  Rot 1
          00 70 00 00 
1671: 178C 00 00 00 7E     dw    0x0000,   0x7E00,   0x0FC0,   0x0000;     // Offset 10  Rot 2
          C0 0F 00 00 
1672: 1794 C0 01 C0 0F     dw    0x01C0,   0x0FC0,   0x0E00,   0x0000;     // Offset 10  Rot 3
          00 0E 00 00 
1673: 179C 70 00 7E 00     dw    0x0070,   0x007E,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1674: 17A4 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 11  Rot 1
          00 00 00 00 
1675: 17AC 00 00 70 00     dw    0x0000,   0x0070,   0x007E,   0x0000;     // Offset 11  Rot 2
          7E 00 00 00 
1676: 17B4 0E 00 7E 00     dw    0x000E,   0x007E,   0x0070,   0x0000;     // Offset 11  Rot 3
          70 00 00 00 
1677: 17BC 00 00 70 00     dw    0x0000,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1678: 17C4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1679: 17CC 00 00 00 00     dw    0x0000,   0x0000,   0x0070,   0x0000;     // Offset 12  Rot 2
          70 00 00 00 
1680: 17D4 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 3
          00 00 00 00 
1681:                    
1682: 17DC               J_display_pattern_sets        equ     $;
1683: 17DC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1684: 17E4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1685: 17EC 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1686: 17F4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1687: 17FC 0E 00 0E 00     dw    0x000E,   0x000E,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1688: 1804 0E 00 0E 00     dw    0x000E,   0x000E,   0x000E,   0x0000;     // Offset  1  Rot 1
          0E 00 00 00 
1689: 180C 00 00 00 00     dw    0x0000,   0x0000,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1690: 1814 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1691: 181C 7E 00 70 00     dw    0x007E,   0x0070,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1692: 1824 70 00 70 00     dw    0x0070,   0x0070,   0x007E,   0x0000;     // Offset  2  Rot 1
          7E 00 00 00 
1693: 182C 00 00 00 00     dw    0x0000,   0x0000,   0x007E,   0x0000;     // Offset  2  Rot 2
          7E 00 00 00 
1694: 1834 0E 00 00 00     dw    0x000E,   0x0000,   0x0000,   0x0000;     // Offset  2  Rot 3
          00 00 00 00 
1695: 183C FE 03 80 03     dw    0x03FE,   0x0380,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1696: 1844 80 03 80 03     dw    0x0380,   0x0380,   0x03F0,   0x0000;     // Offset  3  Rot 1
          F0 03 00 00 
1697: 184C 00 00 0E 00     dw    0x0000,   0x000E,   0x03FE,   0x0000;     // Offset  3  Rot 2
          FE 03 00 00 
1698: 1854 7E 00 0E 00     dw    0x007E,   0x000E,   0x000E,   0x0000;     // Offset  3  Rot 3
          0E 00 00 00 
1699: 185C F0 1F 00 1C     dw    0x1FF0,   0x1C00,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1700: 1864 00 1C 00 1C     dw    0x1C00,   0x1C00,   0x1F80,   0x0000;     // Offset  4  Rot 1
          80 1F 00 00 
1701: 186C 00 00 70 00     dw    0x0000,   0x0070,   0x1FF0,   0x0000;     // Offset  4  Rot 2
          F0 1F 00 00 
1702: 1874 F0 03 70 00     dw    0x03F0,   0x0070,   0x0070,   0x0000;     // Offset  4  Rot 3
          70 00 00 00 
1703: 187C 80 FF 00 E0     dw    0xFF80,   0xE000,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1704: 1884 00 E0 00 E0     dw    0xE000,   0xE000,   0xFC00,   0x0000;     // Offset  5  Rot 1
          00 FC 00 00 
1705: 188C 00 00 80 03     dw    0x0000,   0x0380,   0xFF80,   0x0000;     // Offset  5  Rot 2
          80 FF 00 00 
1706: 1894 80 1F 80 03     dw    0x1F80,   0x0380,   0x0380,   0x0000;     // Offset  5  Rot 3
          80 03 00 00 
1707: 189C FC 07 00 07     dw    0x07FC,   0x0700,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1708: 18A4 00 07 00 07     dw    0x0700,   0x0700,   0x07E0,   0x0000;     // Offset  6  Rot 1
          E0 07 00 00 
1709: 18AC 00 00 1C 00     dw    0x0000,   0x001C,   0x07FC,   0x0000;     // Offset  6  Rot 2
          FC 07 00 00 
1710: 18B4 FC 00 1C 00     dw    0x00FC,   0x001C,   0x001C,   0x0000;     // Offset  6  Rot 3
          1C 00 00 00 
1711: 18BC E0 3F 00 38     dw    0x3FE0,   0x3800,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1712: 18C4 00 38 00 38     dw    0x3800,   0x3800,   0x3F00,   0x0000;     // Offset  7  Rot 1
          00 3F 00 00 
1713: 18CC 00 00 E0 00     dw    0x0000,   0x00E0,   0x3FE0,   0x0000;     // Offset  7  Rot 2
          E0 3F 00 00 
1714: 18D4 E0 07 E0 00     dw    0x07E0,   0x00E0,   0x00E0,   0x0000;     // Offset  7  Rot 3
          E0 00 00 00 
1715: 18DC FF 01 C0 01     dw    0x01FF,   0x01C0,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1716: 18E4 C0 01 C0 01     dw    0x01C0,   0x01C0,   0x01F8,   0x0000;     // Offset  8  Rot 1
          F8 01 00 00 
1717: 18EC 00 00 07 00     dw    0x0000,   0x0007,   0x01FF,   0x0000;     // Offset  8  Rot 2
          FF 01 00 00 
1718: 18F4 3F 00 07 00     dw    0x003F,   0x0007,   0x0007,   0x0000;     // Offset  8  Rot 3
          07 00 00 00 
1719: 18FC F8 0F 00 0E     dw    0x0FF8,   0x0E00,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1720: 1904 00 0E 00 0E     dw    0x0E00,   0x0E00,   0x0FC0,   0x0000;     // Offset  9  Rot 1
          C0 0F 00 00 
1721: 190C 00 00 38 00     dw    0x0000,   0x0038,   0x0FF8,   0x0000;     // Offset  9  Rot 2
          F8 0F 00 00 
1722: 1914 F8 01 38 00     dw    0x01F8,   0x0038,   0x0038,   0x0000;     // Offset  9  Rot 3
          38 00 00 00 
1723: 191C C0 7F 00 70     dw    0x7FC0,   0x7000,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1724: 1924 00 70 00 70     dw    0x7000,   0x7000,   0x7E00,   0x0000;     // Offset 10  Rot 1
          00 7E 00 00 
1725: 192C 00 00 C0 01     dw    0x0000,   0x01C0,   0x7FC0,   0x0000;     // Offset 10  Rot 2
          C0 7F 00 00 
1726: 1934 C0 0F C0 01     dw    0x0FC0,   0x01C0,   0x01C0,   0x0000;     // Offset 10  Rot 3
          C0 01 00 00 
1727: 193C 7E 00 00 00     dw    0x007E,   0x0000,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1728: 1944 00 00 00 00     dw    0x0000,   0x0000,   0x0070,   0x0000;     // Offset 11  Rot 1
          70 00 00 00 
1729: 194C 00 00 0E 00     dw    0x0000,   0x000E,   0x007E,   0x0000;     // Offset 11  Rot 2
          7E 00 00 00 
1730: 1954 7E 00 0E 00     dw    0x007E,   0x000E,   0x000E,   0x0000;     // Offset 11  Rot 3
          0E 00 00 00 
1731: 195C 70 00 00 00     dw    0x0070,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1732: 1964 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1733: 196C 00 00 70 00     dw    0x0000,   0x0070,   0x0070,   0x0000;     // Offset 12  Rot 2
          70 00 00 00 
1734: 1974 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0000;     // Offset 12  Rot 3
          70 00 00 00 
1735:                    
1736: 197C               L_display_pattern_sets        equ     $;
1737: 197C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 0
          00 00 00 00 
1738: 1984 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 1
          00 00 00 00 
1739: 198C 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 2
          00 00 00 00 
1740: 1994 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  0  Rot 3
          00 00 00 00 
1741: 199C 0E 00 00 00     dw    0x000E,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 0
          00 00 00 00 
1742: 19A4 0E 00 0E 00     dw    0x000E,   0x000E,   0x000E,   0x0000;     // Offset  1  Rot 1
          0E 00 00 00 
1743: 19AC 00 00 0E 00     dw    0x0000,   0x000E,   0x000E,   0x0000;     // Offset  1  Rot 2
          0E 00 00 00 
1744: 19B4 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset  1  Rot 3
          00 00 00 00 
1745: 19BC 7E 00 00 00     dw    0x007E,   0x0000,   0x0000,   0x0000;     // Offset  2  Rot 0
          00 00 00 00 
1746: 19C4 7E 00 70 00     dw    0x007E,   0x0070,   0x0070,   0x0000;     // Offset  2  Rot 1
          70 00 00 00 
1747: 19CC 00 00 70 00     dw    0x0000,   0x0070,   0x007E,   0x0000;     // Offset  2  Rot 2
          7E 00 00 00 
1748: 19D4 00 00 00 00     dw    0x0000,   0x0000,   0x000E,   0x0000;     // Offset  2  Rot 3
          0E 00 00 00 
1749: 19DC FE 03 0E 00     dw    0x03FE,   0x000E,   0x0000,   0x0000;     // Offset  3  Rot 0
          00 00 00 00 
1750: 19E4 F0 03 80 03     dw    0x03F0,   0x0380,   0x0380,   0x0000;     // Offset  3  Rot 1
          80 03 00 00 
1751: 19EC 00 00 80 03     dw    0x0000,   0x0380,   0x03FE,   0x0000;     // Offset  3  Rot 2
          FE 03 00 00 
1752: 19F4 0E 00 0E 00     dw    0x000E,   0x000E,   0x007E,   0x0000;     // Offset  3  Rot 3
          7E 00 00 00 
1753: 19FC F0 1F 70 00     dw    0x1FF0,   0x0070,   0x0000,   0x0000;     // Offset  4  Rot 0
          00 00 00 00 
1754: 1A04 80 1F 00 1C     dw    0x1F80,   0x1C00,   0x1C00,   0x0000;     // Offset  4  Rot 1
          00 1C 00 00 
1755: 1A0C 00 00 00 1C     dw    0x0000,   0x1C00,   0x1FF0,   0x0000;     // Offset  4  Rot 2
          F0 1F 00 00 
1756: 1A14 70 00 70 00     dw    0x0070,   0x0070,   0x03F0,   0x0000;     // Offset  4  Rot 3
          F0 03 00 00 
1757: 1A1C 80 FF 80 03     dw    0xFF80,   0x0380,   0x0000,   0x0000;     // Offset  5  Rot 0
          00 00 00 00 
1758: 1A24 00 FC 00 E0     dw    0xFC00,   0xE000,   0xE000,   0x0000;     // Offset  5  Rot 1
          00 E0 00 00 
1759: 1A2C 00 00 00 E0     dw    0x0000,   0xE000,   0xFF80,   0x0000;     // Offset  5  Rot 2
          80 FF 00 00 
1760: 1A34 80 03 80 03     dw    0x0380,   0x0380,   0x1F80,   0x0000;     // Offset  5  Rot 3
          80 1F 00 00 
1761: 1A3C FC 07 1C 00     dw    0x07FC,   0x001C,   0x0000,   0x0000;     // Offset  6  Rot 0
          00 00 00 00 
1762: 1A44 E0 07 00 07     dw    0x07E0,   0x0700,   0x0700,   0x0000;     // Offset  6  Rot 1
          00 07 00 00 
1763: 1A4C 00 00 00 07     dw    0x0000,   0x0700,   0x07FC,   0x0000;     // Offset  6  Rot 2
          FC 07 00 00 
1764: 1A54 1C 00 1C 00     dw    0x001C,   0x001C,   0x00FC,   0x0000;     // Offset  6  Rot 3
          FC 00 00 00 
1765: 1A5C E0 3F E0 00     dw    0x3FE0,   0x00E0,   0x0000,   0x0000;     // Offset  7  Rot 0
          00 00 00 00 
1766: 1A64 00 3F 00 38     dw    0x3F00,   0x3800,   0x3800,   0x0000;     // Offset  7  Rot 1
          00 38 00 00 
1767: 1A6C 00 00 00 38     dw    0x0000,   0x3800,   0x3FE0,   0x0000;     // Offset  7  Rot 2
          E0 3F 00 00 
1768: 1A74 E0 00 E0 00     dw    0x00E0,   0x00E0,   0x07E0,   0x0000;     // Offset  7  Rot 3
          E0 07 00 00 
1769: 1A7C FF 01 07 00     dw    0x01FF,   0x0007,   0x0000,   0x0000;     // Offset  8  Rot 0
          00 00 00 00 
1770: 1A84 F8 01 C0 01     dw    0x01F8,   0x01C0,   0x01C0,   0x0000;     // Offset  8  Rot 1
          C0 01 00 00 
1771: 1A8C 00 00 C0 01     dw    0x0000,   0x01C0,   0x01FF,   0x0000;     // Offset  8  Rot 2
          FF 01 00 00 
1772: 1A94 07 00 07 00     dw    0x0007,   0x0007,   0x003F,   0x0000;     // Offset  8  Rot 3
          3F 00 00 00 
1773: 1A9C F8 0F 38 00     dw    0x0FF8,   0x0038,   0x0000,   0x0000;     // Offset  9  Rot 0
          00 00 00 00 
1774: 1AA4 C0 0F 00 0E     dw    0x0FC0,   0x0E00,   0x0E00,   0x0000;     // Offset  9  Rot 1
          00 0E 00 00 
1775: 1AAC 00 00 00 0E     dw    0x0000,   0x0E00,   0x0FF8,   0x0000;     // Offset  9  Rot 2
          F8 0F 00 00 
1776: 1AB4 38 00 38 00     dw    0x0038,   0x0038,   0x01F8,   0x0000;     // Offset  9  Rot 3
          F8 01 00 00 
1777: 1ABC C0 7F C0 01     dw    0x7FC0,   0x01C0,   0x0000,   0x0000;     // Offset 10  Rot 0
          00 00 00 00 
1778: 1AC4 00 7E 00 70     dw    0x7E00,   0x7000,   0x7000,   0x0000;     // Offset 10  Rot 1
          00 70 00 00 
1779: 1ACC 00 00 00 70     dw    0x0000,   0x7000,   0x7FC0,   0x0000;     // Offset 10  Rot 2
          C0 7F 00 00 
1780: 1AD4 C0 01 C0 01     dw    0x01C0,   0x01C0,   0x0FC0,   0x0000;     // Offset 10  Rot 3
          C0 0F 00 00 
1781: 1ADC 7E 00 0E 00     dw    0x007E,   0x000E,   0x0000,   0x0000;     // Offset 11  Rot 0
          00 00 00 00 
1782: 1AE4 70 00 00 00     dw    0x0070,   0x0000,   0x0000,   0x0000;     // Offset 11  Rot 1
          00 00 00 00 
1783: 1AEC 00 00 00 00     dw    0x0000,   0x0000,   0x007E,   0x0000;     // Offset 11  Rot 2
          7E 00 00 00 
1784: 1AF4 0E 00 0E 00     dw    0x000E,   0x000E,   0x007E,   0x0000;     // Offset 11  Rot 3
          7E 00 00 00 
1785: 1AFC 70 00 70 00     dw    0x0070,   0x0070,   0x0000,   0x0000;     // Offset 12  Rot 0
          00 00 00 00 
1786: 1B04 00 00 00 00     dw    0x0000,   0x0000,   0x0000,   0x0000;     // Offset 12  Rot 1
          00 00 00 00 
1787: 1B0C 00 00 00 00     dw    0x0000,   0x0000,   0x0070,   0x0000;     // Offset 12  Rot 2
          70 00 00 00 
1788: 1B14 70 00 70 00     dw    0x0070,   0x0070,   0x0070,   0x0000;     // Offset 12  Rot 3
          70 00 00 00 
1789:                    
1790:                    
